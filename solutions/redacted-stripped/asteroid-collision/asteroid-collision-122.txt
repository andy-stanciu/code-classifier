class Solution {

    public int[] method1(int[] param1) {
        int pos = -1;
        main: for (var a : param1) {
            if (a < 0)
                while (pos >= 0 && param1[pos] > 0) if (param1[pos] > -a)
                    continue main;
                else if (param1[pos--] == -a)
                    continue main;
            param1[++pos] = a;
        }
        return Arrays.copyOfRange(param1, 0, pos + 1);
    }
}
