class Solution {

    public int[] method1(int[] param1) {
        int i = 0;
        for (int j = 1; j < param1.length; j++) {
            if (i >= 0 && param1[i] > 0 && param1[j] < 0) {
                i = update(param1, i, j);
            } else {
                param1[++i] = param1[j];
            }
        }
        return Arrays.copyOfRange(param1, 0, i + 1);
    }

    private int update(int[] nums, int i, int j) {
        while (i >= 0 && nums[i] > 0 && nums[i] < -nums[j]) i--;
        if (i >= 0 && nums[i] == -nums[j])
            return --i;
        if (i < 0 || nums[i] < 0) {
            nums[++i] = nums[j];
            return i;
        }
        return i;
    }
}
