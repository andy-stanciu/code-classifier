class Solution {

    public int compress(char[] chars) {
        int left = 0;
        int write = 0;
        for (; left < chars.length; ) {
            char target = chars[left];
            int windowsPoint = left;
            int cnt = 0;
            for (; windowsPoint < chars.length && chars[windowsPoint] == target; ) {
                cnt++;
                windowsPoint++;
            }
            left = windowsPoint;
            chars[write++] = target;
            if (cnt == 1) {
                continue;
            }
            for (char c : String.valueOf(cnt).toCharArray()) {
                chars[write++] = c;
            }
        }
        return write;
    }
}
