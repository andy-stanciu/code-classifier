class Solution {

    public int compress(char[] chars) {
        int n = chars.length;
        StringBuilder s = new StringBuilder("");
        if (n == 1) {
            s.append(chars[0]);
            return 1;
        } else {
            int count = 1;
            s.append(chars[0]);
            for (int i = 0; i < n - 1; i++) {
                if (chars[i] == chars[i + 1]) {
                    count++;
                    if (i + 1 == n - 1) {
                        s.append(count);
                    }
                } else {
                    if (count > 1) {
                        s.append(count);
                    }
                    s.append(chars[i + 1]);
                    count = 1;
                }
            }
        }
        int ans = s.length();
        for (int i = 0; i < ans; i++) {
            chars[i] = s.charAt(i);
        }
        return ans;
    }
}
