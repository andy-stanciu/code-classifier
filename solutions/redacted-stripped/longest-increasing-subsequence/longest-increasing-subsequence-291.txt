class Solution {

    public int lengthOfLIS(int[] nums) {
        TreeSet<Integer> dpTail = new TreeSet();
        int maxLen = 0;
        for (int num : nums) {
            if (!dpTail.isEmpty() && dpTail.last() > num) {
                Integer prevTail = dpTail.ceiling(num);
                dpTail.remove(prevTail);
            }
            dpTail.add(num);
        }
        return dpTail.size();
    }
}
