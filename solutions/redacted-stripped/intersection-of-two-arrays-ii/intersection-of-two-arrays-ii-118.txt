class Solution {

    public int[] intersect(int[] a, int[] b) {
        List<Integer> list = new ArrayList<>();
        Map<Integer, Integer> map = new HashMap<>();
        for (int i : a) {
            map.merge(i, 1, Integer::sum);
        }
        for (int i : b) {
            Integer v = map.get(i);
            if (v != null && v > 0) {
                map.put(i, v - 1);
                list.add(i);
            }
        }
        return list.stream().mapToInt(i -> i).toArray();
    }
}
