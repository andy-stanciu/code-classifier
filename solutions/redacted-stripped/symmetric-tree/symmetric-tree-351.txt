class Solution {

    public boolean method1(TreeNode root) {
        if (root == null)
            return true;
        Queue<TreeNode> left = new LinkedList<>();
        Queue<TreeNode> right = new LinkedList<>();
        left.offer(root.left);
        right.offer(root.right);
        while (!left.isEmpty() && !right.isEmpty()) {
            TreeNode leftNode = left.poll();
            TreeNode rightNode = right.poll();
            if (leftNode == null && rightNode == null)
                continue;
            if (leftNode == null || rightNode == null || leftNode.val != rightNode.val)
                return false;
            left.offer(leftNode.left);
            left.offer(leftNode.right);
            right.offer(rightNode.right);
            right.offer(rightNode.left);
        }
        return left.isEmpty() && right.isEmpty();
    }
}
