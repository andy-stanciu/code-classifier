class Solution {

    public boolean method1(TreeNode root) {
        if (root == null)
            return true;
        return solve(root.left, root.right);
    }

    public boolean solve(TreeNode leftnode, TreeNode rightnode) {
        if (leftnode == null && rightnode == null)
            return true;
        if ((leftnode != null && rightnode == null) || (leftnode == null && rightnode != null) || (leftnode.val != rightnode.val)) {
            return false;
        }
        return (solve(leftnode.right, rightnode.left) && solve(rightnode.right, leftnode.left));
    }
}
