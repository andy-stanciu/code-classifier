class Solution {

    public boolean method1(TreeNode root) {
        TreeNode var1 = method2(root);
        return method3(root, var1);
    }

    private TreeNode method2(TreeNode root) {
        if (root == null)
            return null;
        TreeNode invertedRoot = new TreeNode(root.val);
        invertedRoot.left = method2(root.right);
        invertedRoot.right = method2(root.left);
        return invertedRoot;
    }

    private boolean method3(TreeNode a, TreeNode b) {
        if (a == null && b == null)
            return true;
        if (a == null || b == null)
            return false;
        if (a.val != b.val)
            return false;
        return method3(a.left, b.left) && method3(a.right, b.right);
    }
}
