class Solution {

    public boolean ans(TreeNode rootleft, TreeNode rootright) {
        if (rootleft == null && rootright == null) {
            return true;
        }
        if (rootleft == null || rootright == null || rootleft.val != rootright.val) {
            return false;
        }
        return ans(rootleft.left, rootright.right) && ans(rootleft.right, rootright.left);
    }

    public boolean method1(TreeNode root) {
        if (root == null) {
            return true;
        }
        return ans(root.left, root.right);
    }
}
