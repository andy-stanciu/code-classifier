class Solution {

    public boolean method1(TreeNode root) {
        return method2(root.left, root.right);
    }

    static boolean method2(TreeNode leftroot, TreeNode rightroot) {
        if (rightroot == null && leftroot == null)
            return true;
        if (rightroot == null && leftroot != null)
            return false;
        if (rightroot != null && leftroot == null)
            return false;
        return (leftroot.val == rightroot.val) && method2(leftroot.left, rightroot.right) && method2(leftroot.right, rightroot.left);
    }
}
