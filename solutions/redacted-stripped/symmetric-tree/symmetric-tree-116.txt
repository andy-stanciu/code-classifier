class Solution {

    public boolean method1(TreeNode a, TreeNode b) {
        if (a == null && b == null)
            return true;
        if (a == null && b != null || a != null && b == null || a.val != b.val)
            return false;
        if (a.val == b.val)
            return method1(a.left, b.right) && method1(a.right, b.left);
        return false;
    }

    public boolean method2(TreeNode root) {
        TreeNode a = root;
        TreeNode b = root;
        return method1(a, b);
    }
}
