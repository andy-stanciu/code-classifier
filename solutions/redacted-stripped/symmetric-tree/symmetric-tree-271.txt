class Solution {

    public static boolean method1(TreeNode root) {
        if (root == null)
            return true;
        return method2(root.left, root.right);
    }

    public static boolean method2(TreeNode left_parent, TreeNode right_parent) {
        if (left_parent == null && right_parent == null)
            return true;
        if (left_parent == null || right_parent == null)
            return false;
        return (left_parent.val == right_parent.val) && (method2(left_parent.left, right_parent.right)) && (method2(left_parent.right, right_parent.left));
    }
}
