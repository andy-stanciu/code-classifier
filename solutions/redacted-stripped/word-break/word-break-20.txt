class Solution {

    public boolean method1(String s, List<String> param1) {
        return method2(s, new HashSet<>(param1), new HashMap<>());
    }

    boolean method2(String prefix, Set<String> dict, Map<String, Boolean> dp) {
        if (prefix.isEmpty())
            return true;
        if (!dp.containsKey(prefix)) {
            boolean method2 = false;
            for (String var1 : dict) {
                if (prefix.startsWith(var1)) {
                    if (prefix.length() == var1.length()) {
                        method2 = true;
                        break;
                    } else {
                        method2 = method2(prefix.substring(var1.length()), dict, dp);
                        if (method2) {
                            break;
                        }
                    }
                }
            }
            dp.put(prefix, method2);
        }
        return dp.get(prefix);
    }
}
