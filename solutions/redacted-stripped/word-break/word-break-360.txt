class Solution {

    Map<Integer, Boolean> memo = new HashMap<>();

    public boolean method1(String s, List<String> param1) {
        var dict = new HashSet<String>(param1);
        return isSequencePossible(s, dict, 0);
    }

    private boolean isSequencePossible(String s, Set<String> dict, int idx) {
        if (idx == s.length())
            return true;
        else if (memo.containsKey(idx))
            return memo.get(idx);
        for (int i = idx; i < s.length(); i++) {
            String var1 = s.substring(idx, i + 1);
            if (dict.contains(var1) && isSequencePossible(s, dict, i + 1)) {
                memo.put(idx, true);
                return true;
            }
        }
        memo.put(idx, false);
        return false;
    }
}
