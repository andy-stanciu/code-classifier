class Solution {

    int n;

    public boolean method1(String s, List<String> param1) {
        n = s.length();
        Boolean[] dp = new Boolean[n + 1];
        return solve(0, s, param1, dp);
    }

    boolean solve(int index, String s, List<String> param1, Boolean[] dp) {
        if (index == n) {
            return true;
        }
        if (dp[index] != null) {
            return dp[index];
        }
        for (int endIndex = index + 1; endIndex <= n; endIndex++) {
            String temp = s.substring(index, endIndex);
            if (param1.contains(temp) && solve(endIndex, s, param1, dp)) {
                return dp[index] = true;
            }
        }
        return dp[index] = false;
    }
}
