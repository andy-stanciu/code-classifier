class Solution {

    HashSet<String> ht = new HashSet<String>();

    HashSet<Integer> memo = new HashSet<Integer>();

    boolean doit(int index, String str) {
        if (index == str.length())
            return true;
        for (int i = index; i <= str.length(); i++) {
            String var1 = str.substring(index, i);
            if (ht.contains(var1) && !memo.contains(i)) {
                if (doit(i, str))
                    return true;
                memo.add(i);
            }
        }
        return false;
    }

    public boolean method1(String s, List<String> param1) {
        for (String var1 : param1) ht.add(var1);
        return doit(0, s);
    }
}
