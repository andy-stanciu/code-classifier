class Solution {

    public boolean method1(String s, List<String> param1) {
        Set<String> set = new HashSet(param1);
        Set<String> notSet = new HashSet();
        int n = s.length();
        return check(s, n, set, notSet);
    }

    boolean check(String s, int n, Set<String> set, Set<String> notSet) {
        if (set.contains(s))
            return true;
        if (notSet.contains(s))
            return false;
        for (int j = n - 1; j >= 0; j--) {
            String str1 = s.substring(j, n);
            if (set.contains(str1)) {
                boolean flag = check(s.substring(0, j), j, set, notSet);
                if (flag)
                    return flag;
            } else
                notSet.add(str1);
        }
        return false;
    }
}
