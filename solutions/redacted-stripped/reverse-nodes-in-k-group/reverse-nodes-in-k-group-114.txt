class Solution {

    public ListNode method1(ListNode head, int k) {
        ListNode temp = new ListNode(0, head);
        ListNode curr = head;
        head = temp;
        while (true) {
            int i = k;
            ListNode temp2 = curr;
            while (--i > 0 && temp2 != null) temp2 = temp2.next;
            if (i > 0 || temp2 == null)
                break;
            ListNode prev = null, next = null, var1 = null;
            int j = k;
            while (j-- > 0) {
                if (var1 == null)
                    var1 = curr;
                next = curr.next;
                curr.next = prev;
                prev = curr;
                curr = next;
            }
            head.next = prev;
            head = var1;
            var1.next = curr;
        }
        return temp.next;
    }
}
