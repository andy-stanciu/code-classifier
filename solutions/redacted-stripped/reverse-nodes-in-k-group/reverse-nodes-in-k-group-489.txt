class Solution {

    public ListNode method1(ListNode head, int k) {
        if (k == 1)
            return head;
        ListNode dummy = new ListNode(-1, head);
        ListNode start = dummy;
        ListNode end = head;
        while (true) {
            int i = k;
            while (end != null && i-- > 0) end = end.next;
            if (i > 0)
                break;
            start.next = method2(start.next, end);
            i = k;
            while (i-- > 0) start = start.next;
        }
        return dummy.next;
    }

    public ListNode method2(ListNode head, ListNode endNode) {
        ListNode pt1 = head;
        ListNode pt2 = head.next;
        pt1.next = endNode;
        while (pt2 != endNode) {
            ListNode temp = pt2.next;
            pt2.next = pt1;
            pt1 = pt2;
            pt2 = temp;
        }
        return pt1;
    }
}
