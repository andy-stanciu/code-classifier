class Solution {

    public ListNode method1(ListNode head, int k) {
        ListNode curr = head;
        ListNode dummy = new ListNode(0, head);
        while (curr != null && curr.next != null) {
            int count = 0;
            ListNode temp = curr;
            while (count < k - 1 && temp.next != null) {
                temp = temp.next;
                count++;
            }
            if (count > k - 2) {
                ListNode headcurr = curr;
                ListNode pre = temp.next;
                ListNode dummynext = temp.next;
                ListNode next = null;
                int circle = 0;
                while (circle < k && headcurr != null) {
                    next = headcurr.next;
                    headcurr.next = pre;
                    pre = headcurr;
                    headcurr = next;
                    circle++;
                }
                if (dummy.next == head)
                    head = temp;
                dummy.next = temp;
                dummy = curr;
                curr = dummynext;
            } else {
                break;
            }
        }
        return head;
    }
}
