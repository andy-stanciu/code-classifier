class Solution {

    public String method1(String s) {
        return Arrays.stream(s.split("")).collect(Collectors.groupingBy(str -> str, Collectors.counting())).entrySet().stream().sorted(Comparator.comparing((Map.Entry<String, Long> e) -> e.getValue()).reversed().thenComparing(Map.Entry::getKey)).map(e -> e.getKey().repeat(e.getValue().intValue())).collect(Collectors.joining());
    }
}
