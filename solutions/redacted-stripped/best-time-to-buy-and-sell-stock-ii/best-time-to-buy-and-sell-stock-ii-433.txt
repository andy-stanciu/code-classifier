class Solution {

    public int maxProfit(int[] prices) {
        int cvalley = Integer.MAX_VALUE;
        int pvalley = Integer.MAX_VALUE;
        ;
        int peak = Integer.MIN_VALUE;
        int profit = 0;
        for (int i = 0; i < prices.length - 1; i++) {
            cvalley = prices[i];
            peak = prices[i + 1];
            if ((peak > cvalley)) {
                if (cvalley < pvalley)
                    profit = profit + (peak - Math.min(pvalley, cvalley));
                else
                    profit = profit + (peak - Math.max(pvalley, cvalley));
            }
            pvalley = cvalley;
        }
        return profit;
    }
}
