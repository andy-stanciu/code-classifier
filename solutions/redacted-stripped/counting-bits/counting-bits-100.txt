class Solution {

    public int[] method1(int num) {
        if (num == 0)
            return new int[] { 0 };
        if (num == 1)
            return new int[] { 0, 1 };
        int lastPowerValue = 1;
        int[] numOnes = new int[num + 1];
        numOnes[0] = 0;
        numOnes[1] = 1;
        for (int i = 2; i <= num; ++i) {
            if (i == 2 * lastPowerValue) {
                lastPowerValue *= 2;
                numOnes[i] = 1;
            } else {
                numOnes[i] = numOnes[lastPowerValue] + numOnes[i - lastPowerValue];
            }
        }
        return numOnes;
    }
}
