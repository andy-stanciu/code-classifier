class Solution {

    int getRow(int index, int numRows, int modulo) {
        int remainder = index % modulo;
        if (remainder < numRows)
            return remainder;
        return modulo - remainder;
    }

    public String convert(String s, int numRows) {
        int n = s.length();
        int modulo = (numRows < 2) ? numRows : numRows * 2 - 2;
        StringBuilder solution = new StringBuilder(n);
        ArrayList<StringBuilder> rows = new ArrayList<>(numRows);
        for (int i = 0; i < numRows; i++) {
            rows.add(new StringBuilder());
        }
        for (int i = 0; i < n; i++) {
            char c = s.charAt(i);
            int row = getRow(i, numRows, modulo);
            rows.get(row).append(c);
        }
        for (StringBuilder row : rows) {
            solution.append(row);
        }
        return solution.toString();
    }
}
