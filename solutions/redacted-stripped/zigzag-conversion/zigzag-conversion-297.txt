class Solution {

    public String convert(String s, int numRows) {
        if (numRows == 1) {
            return s;
        }
        int n = s.length();
        char[] res = new char[n];
        int step = numRows * 2 - 2;
        int oddStep = step;
        int evenStep = 0;
        boolean odd;
        int currPos;
        int j = 0;
        for (int i = 0; i < numRows; i++) {
            currPos = i;
            odd = true;
            while (currPos < n) {
                res[j] = s.charAt(currPos);
                currPos += odd || evenStep == 0 ? oddStep : evenStep;
                odd = !odd;
                j++;
            }
            oddStep = (oddStep - 2) > 0 ? (oddStep - 2) : step;
            evenStep = step - oddStep;
        }
        return new String(res);
    }
}
