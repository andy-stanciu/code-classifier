class Solution {

    public int method1(TreeNode root) {
        if (root == null)
            return 0;
        int lh = getLHeight(root);
        int rh = getRHeight(root);
        if (lh == rh)
            return (int) Math.pow(2, lh) - 1;
        return 1 + method1(root.left) + method1(root.right);
    }

    public int getLHeight(TreeNode root) {
        if (root == null)
            return 0;
        return 1 + getLHeight(root.left);
    }

    public int getRHeight(TreeNode root) {
        if (root == null)
            return 0;
        return 1 + getRHeight(root.right);
    }
}
