class Solution {

    public int method1(TreeNode root) {
        if (root == null)
            return 0;
        int dLeft = getDepthLeft(root);
        int dRight = getDepthRight(root);
        if (dLeft == dRight)
            return (1 << dLeft) - 1;
        return 1 + method1(root.left) + method1(root.right);
    }

    public int getDepthLeft(TreeNode node) {
        if (node == null)
            return 0;
        return 1 + getDepthLeft(node.left);
    }

    public int getDepthRight(TreeNode node) {
        if (node == null)
            return 0;
        return 1 + getDepthRight(node.right);
    }
}
