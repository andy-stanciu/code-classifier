class Solution {

    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> res = new ArrayList<List<Integer>>();
        int cur = 0;
        permuteCalc(res, cur, nums);
        return res;
    }

    private void permuteCalc(List<List<Integer>> res, int cur, int[] nums) {
        if (cur == nums.length) {
            List<Integer> curIntegers = new ArrayList<>();
            for (int i : nums) {
                curIntegers.add(i);
            }
            res.add(curIntegers);
        }
        for (int j = cur; j < nums.length; j++) {
            int tmp = nums[j];
            nums[j] = nums[cur];
            nums[cur] = tmp;
            cur++;
            permuteCalc(res, cur, nums);
            cur--;
            tmp = nums[j];
            nums[j] = nums[cur];
            nums[cur] = tmp;
        }
    }
}
