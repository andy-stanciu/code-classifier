class Solution {

    public double myPow(double x, int n) {
        double result = 1;
        if (x == 0 || x == 1)
            return x;
        if (n == 0)
            return 1;
        else {
            if (Math.abs(n) % 2 == 0) {
                if (x == -1)
                    return 1;
                for (int i = 0; i < Math.abs(n) / 2; i++) {
                    result *= x;
                    result *= x;
                }
                ;
            } else {
                if (x == -1)
                    return -1;
                for (int i = 0; i < Math.abs(n) / 2; i++) {
                    result *= x;
                    result *= x;
                }
                result = result * x;
            }
        }
        if (result == 1)
            return 0;
        return n > 0 ? result : (1 / result);
    }
}
