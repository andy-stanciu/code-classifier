class Solution {

    public double myPow(double x, int n) {
        double result = getPow(x, (long) n);
        return result;
    }

    public double getPow(double x, long n) {
        if (n < 0) {
            return getPow(1 / x, -n);
        }
        if (n == 0) {
            return 1;
        }
        if (n % 2 == 0) {
            double a = getPow(x, n / 2);
            return a * a;
        } else {
            double a = x * getPow(x, n - 1);
            return a;
        }
    }
}
