class Solution {

    public List<String> method1(TreeNode root) {
        if (root == null)
            return Collections.emptyList();
        var res = new ArrayList<String>();
        build(root, new StringBuilder(), res);
        return res;
    }

    private static void build(TreeNode root, StringBuilder sb, List<String> res) {
        if (sb.length() == 0)
            sb.append(root.val);
        else
            sb.append("->").append(root.val);
        if (root.left != null && root.right != null) {
            build(root.right, new StringBuilder(sb), res);
            build(root.left, sb, res);
        } else if (root.left != null) {
            build(root.left, sb, res);
        } else if (root.right != null) {
            build(root.right, sb, res);
        } else {
            res.add(sb.toString());
        }
    }
}
