class Solution {

    public int method1(TreeNode root) {
        TreeNode resultNode = new TreeNode(root.val);
        method2(root, resultNode);
        return resultNode.val;
    }

    private int method2(TreeNode node, TreeNode resultNode) {
        if (node == null)
            return 0;
        int var1 = method2(node.left, resultNode);
        int var2 = method2(node.right, resultNode);
        resultNode.val = Collections.max(Arrays.asList(resultNode.val, node.val, node.val + var1, node.val + var2, node.val + var1 + var2));
        return Collections.max(Arrays.asList(node.val, node.val + var1, node.val + var2));
    }
}
