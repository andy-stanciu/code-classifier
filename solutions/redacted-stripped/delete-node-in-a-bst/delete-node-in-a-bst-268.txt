class Solution {

    public TreeNode method1(TreeNode root, int key) {
        if (root == null)
            return null;
        return method2(root, key);
    }

    private TreeNode method2(TreeNode param1, int key) {
        if (param1 == null)
            return null;
        if (key < param1.val)
            param1.left = method2(param1.left, key);
        else if (key > param1.val)
            param1.right = method2(param1.right, key);
        else {
            if (param1.right == null)
                return param1.left;
            if (param1.left == null)
                return param1.right;
            TreeNode n = param1;
            param1 = method3(n.right);
            param1.right = method4(n.right);
            param1.left = n.left;
        }
        return param1;
    }

    private TreeNode method3(TreeNode param1) {
        if (param1.left == null)
            return param1;
        else
            return method3(param1.left);
    }

    private TreeNode method4(TreeNode param1) {
        if (param1.left == null)
            return param1.right;
        param1.left = method4(param1.left);
        return param1;
    }
}
