class Solution {

    public int maxProfit(int[] prices) {
        int result = 0;
        if (prices.length < 2) {
            return result;
        }
        int var1 = prices[0];
        int var2 = prices[0];
        int var3 = 0;
        for (int i = 1; i < prices.length; i++) {
            int prevPrice = prices[i - 1];
            int price = prices[i];
            if (price > prevPrice) {
                var3 = price;
            } else if (price < prevPrice && price < var2) {
                var2 = price;
                var3 = 0;
                continue;
            }
            int overallProfit = var3 - var1;
            if (overallProfit > result) {
                result = overallProfit;
            }
            int localProfit = var3 - var2;
            if (localProfit > result) {
                var1 = var2;
                result = localProfit;
            }
        }
        return result;
    }
}
