class Solution {

    public int method1(int[] nums) {
        TreeSet<Integer> numsSet = new TreeSet<>();
        for (int curNum : nums) {
            numsSet.add(curNum);
            if (numsSet.size() > 3) {
                numsSet.remove(numsSet.first());
            }
        }
        return (numsSet.size() == 3) ? numsSet.first() : numsSet.last();
    }
}
