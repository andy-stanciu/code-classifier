class Solution {

    public int method1(int[] nums, int k) {
        // Find the largest element
        int var1 = Integer.MIN_VALUE;
        for (int num : nums) {
            if (num > var1) {
                var1 = num;
            }
        }
        // Use a HashMap to store the frequency of differences
        Map<Integer, Integer> hash = new HashMap<>();
        for (int num : nums) {
            int diff = var1 - num;
            hash.put(diff, hash.getOrDefault(diff, 0) + 1);
        }
        // Determine the k-th largest element
        int count = 0;
        int diff = 0;
        while (count < k) {
            count += hash.getOrDefault(diff, 0);
            diff++;
        }
        return var1 - diff + 1;
    }
}
