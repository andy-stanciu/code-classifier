class Solution {

    public int method1(int[] nums, int k) {
        List<Integer> numLst = new ArrayList<>();
        for (int n : nums) numLst.add(n);
        return quickSort(numLst, k);
    }

    private int quickSort(List<Integer> nums, int k) {
        //get pivot number
        int pivot = nums.get((int) (Math.random() * nums.size()));
        //divide into three groups
        List<Integer> var1 = new ArrayList<>();
        int equalTo = 0;
        List<Integer> var2 = new ArrayList<>();
        for (int n : nums) {
            if (n == pivot)
                equalTo++;
            else if (n < pivot)
                var2.add(n);
            else
                var1.add(n);
        }
        //find where kth largest falls
        if (var1.size() >= k)
            return quickSort(var1, k);
        else if (var1.size() + equalTo >= k)
            return pivot;
        return quickSort(var2, k - var1.size() - equalTo);
    }
}
