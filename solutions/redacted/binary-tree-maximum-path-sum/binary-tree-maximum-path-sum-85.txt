class Solution {

    private int maxAnswer = Integer.MIN_VALUE;

    public int method1(TreeNode root) {
        DFS(root);
        return maxAnswer;
    }

    int DFS(TreeNode node) {
        if (node == null)
            return 0;
        int var1 = DFS(node.left);
        int var2 = DFS(node.right);
        int var3 = var1 + var2 + node.val;
        // This is propagated upwards,
        // If the current node with including it\'s subtrees has negative sum
        // DO NOT propagate that.
        int var4 = Math.max(0, Math.max(var1, var2) + node.val);
        maxAnswer = Math.max(maxAnswer, var3);
        return var4;
    }
}
