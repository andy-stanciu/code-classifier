class Solution {

    public int maxProfit(int[] prices) {
        int len = prices.length;
        int[] ahead = new int[2];
        ahead[0] = ahead[1] = 0;
        for (int idx = len - 1; idx >= 0; idx--) {
            int[] curr = new int[2];
            curr[0] = Math.max((prices[idx] + ahead[1]), ahead[0]);
            curr[1] = Math.max((-prices[idx] + ahead[0]), ahead[1]);
            ahead = curr;
        }
        return ahead[1];
    }
}
