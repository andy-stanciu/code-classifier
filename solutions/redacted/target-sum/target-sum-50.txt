class Solution {

    public int method1(int[] nums, int param1) {
        return totalWays(0, nums, param1, new HashMap<String, Integer>());
    }

    int totalWays(int curr, int[] nums, int param1, HashMap<String, Integer> map) {
        if (curr >= nums.length && param1 == 0) {
            return 1;
        }
        if (curr >= nums.length && param1 != 0) {
            return 0;
        }
        String currentKey = curr + "_" + param1;
        if (map.containsKey(currentKey)) {
            return map.get(currentKey);
        }
        int pos = totalWays(curr + 1, nums, param1 - nums[curr], map);
        int neg = totalWays(curr + 1, nums, param1 + nums[curr], map);
        map.put(currentKey, pos + neg);
        return pos + neg;
    }
}
