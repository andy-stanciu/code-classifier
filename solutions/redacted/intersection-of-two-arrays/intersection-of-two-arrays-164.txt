class Solution {

    public int[] method1(int[] nums1, int[] nums2) {
        // Sort nums1
        Arrays.sort(nums1);
        HashSet<Integer> set = new HashSet<>();
        int n2 = nums2.length;
        // Iterate through nums2 and use binary search on nums1
        for (int i = 0; i < n2; i++) {
            if (binarysearch(nums1, nums2[i])) {
                // Add to set if found
                set.add(nums2[i]);
            }
        }
        // Convert HashSet to int[]
        return set.stream().mapToInt(i -> i).toArray();
    }

    private boolean binarysearch(int[] nums1, int val) {
        int low = 0;
        // Corrected to use the length of nums1
        int high = nums1.length - 1;
        while (low <= high) {
            int mid = low + (high - low) / 2;
            // Found the value
            if (nums1[mid] == val)
                return true;
            if (// Search in the right half
            nums1[mid] < val)
                // Search in the right half
                low = mid + 1;
            else
                // Search in the left half
                high = mid - 1;
        }
        // Value not found
        return false;
    }
}
