class Solution {

    public int method1(TreeNode root) {
        if (root == null)
            return 0;
        int heightLeft = findHeightLeft(root);
        int heightRight = findHeightRight(root);
        if (heightLeft == heightRight) {
            //full binary tree
            return (2 << (heightLeft)) - 1;
        } else {
            return method1(root.left) + method1(root.right) + 1;
        }
    }

    public int findHeightLeft(TreeNode root) {
        if (root == null)
            return -1;
        return 1 + findHeightLeft(root.left);
    }

    public int findHeightRight(TreeNode root) {
        if (root == null)
            return -1;
        return 1 + findHeightRight(root.right);
    }
}
