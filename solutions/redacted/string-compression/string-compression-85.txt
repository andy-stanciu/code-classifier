class Solution {

    public int compress(char[] chars) {
        int index = 0;
        char curr = chars[0];
        int count = 1;
        for (int i = 1; i < chars.length; i++) {
            if (chars[i] == curr)
                count++;
            else {
                if (count == 1) {
                    chars[index] = curr;
                    index++;
                } else {
                    String s = "" + count;
                    chars[index] = curr;
                    index++;
                    for (char c : s.toCharArray()) {
                        chars[index] = c;
                        index++;
                    }
                }
                curr = chars[i];
                count = 1;
            }
        }
        if (count == 1) {
            chars[index] = curr;
            index++;
        } else {
            String s = "" + count;
            chars[index] = curr;
            index++;
            for (char c : s.toCharArray()) {
                chars[index] = c;
                index++;
            }
        }
        return index;
    }
}
