class Solution {

    public int compress(char[] chars) {
        // pointers for keeping track of the indices
        int i = 0, j = 0, k = 0;
        // iterate through the array and update the values of i, j , k and values at chars arr
        int n = chars.length;
        while (i < n) {
            // first find the indices where the char are different
            while (i < n && chars[i] == chars[j]) i++;
            // now replace the value of j at k
            chars[k++] = chars[j];
            // put the int value if the different between i and j is greater than 1
            if (i - j > 1) {
                // this string conversion in O(n) space
                String diff = Integer.toString(i - j);
                for (int l = 0; l < diff.length(); l++) chars[k++] = diff.charAt(l);
            }
            j = i;
        }
        return k;
    }
}
