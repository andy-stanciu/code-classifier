class Solution {

    public int compress(char[] chars) {
        //use two point to ensure the repeat characters window
        int left = 0;
        int write = 0;
        //find the consecutive window
        for (; left < chars.length; ) {
            char target = chars[left];
            int windowsPoint = left;
            int cnt = 0;
            for (; windowsPoint < chars.length && chars[windowsPoint] == target; ) {
                cnt++;
                windowsPoint++;
            }
            //next start point is windowsPoint
            left = windowsPoint;
            //we find the windows of consecutive repeat words.
            //now we can replace the chars
            //first replace the char
            chars[write++] = target;
            if (cnt == 1) {
                continue;
            }
            //next replace the number
            for (char c : String.valueOf(cnt).toCharArray()) {
                chars[write++] = c;
            }
        }
        return write;
    }
}
