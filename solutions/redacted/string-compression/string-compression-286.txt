class Solution {

    public int compress(char[] chars) {
        int writeInd = 1;
        int readInd;
        int currCount = 1;
        char lastChar = chars[0];
        for (readInd = 1; readInd < chars.length; readInd++) {
            if (chars[readInd] == lastChar)
                currCount++;
            else if (currCount == 1) {
                lastChar = chars[readInd];
                chars[writeInd] = lastChar;
                writeInd++;
            } else {
                for (char c : String.valueOf(currCount).toCharArray()) {
                    chars[writeInd] = c;
                    writeInd++;
                }
                currCount = 1;
                lastChar = chars[readInd];
                chars[writeInd] = lastChar;
                writeInd++;
            }
        }
        if (currCount > 1) {
            for (char c : String.valueOf(currCount).toCharArray()) {
                chars[writeInd] = c;
                writeInd++;
            }
        }
        return writeInd;
    }
}
