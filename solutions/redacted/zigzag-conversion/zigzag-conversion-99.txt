class Solution {

    boolean mustIncrease = true;

    int cuurentRow = 0;

    public String convert(String s, int numRows) {
        if (numRows == 1)
            return s;
        ArrayList<ArrayList<Character>> lines = new ArrayList();
        for (char c : s.toCharArray()) {
            ArrayList<Character> line;
            if (cuurentRow >= lines.size()) {
                line = new ArrayList();
                line.add(c);
                lines.add(line);
            } else {
                line = lines.get(cuurentRow);
                line.add(c);
                lines.set(cuurentRow, line);
            }
            calculateLine(numRows);
        }
        StringBuilder sb = new StringBuilder();
        for (ArrayList<Character> line : lines) {
            for (Character item : line) {
                sb.append(item);
            }
        }
        return sb.toString();
    }

    void calculateLine(int numRows) {
        if (mustIncrease) {
            if (cuurentRow >= (numRows - 1)) {
                mustIncrease = false;
                cuurentRow = numRows - 2;
            } else
                cuurentRow++;
        } else {
            if (cuurentRow == 0) {
                mustIncrease = true;
                cuurentRow++;
            } else
                cuurentRow--;
        }
    }
}
