class Solution {

    public int lengthOfLIS(int[] nums) {
        int max = 1;
        ArrayList<Integer> arr = new ArrayList<>();
        //populating array initially for further comparisions
        arr.add(nums[0]);
        for (int i = 1; i < nums.length; i++) {
            if (arr.get(arr.size() - 1) < nums[i]) {
                arr.add(nums[i]);
                max++;
            } else //having a value greater then the largest value of list assures that new value can contribute in increasing array size
            {
                //finding the value which is immediatly higher than this value or equal to this value using binary search
                //we can clearly apply binary search on the list as it is sorted
                //using Collections framework
                //int index=Collections.binarySearch(arr,nums[i]);
                //it returns (-(index to be inserted)-1) if number doesn\'t exist in collection.
                // if(index<0){
                // index=Math.abs(index)-1;
                // arr.set(index,nums[i]);
                // }
                int target = nums[i];
                int l = 0;
                int h = arr.size() - 1;
                int index = 0;
                //using custom function
                while (l <= h) {
                    int mid = (l + h) / 2;
                    if (arr.get(mid) == target) {
                        index = mid;
                        break;
                    }
                    if (arr.get(mid) < target) {
                        l = mid + 1;
                    } else {
                        h = mid - 1;
                        index = mid;
                    }
                }
                arr.set(index, target);
            }
        }
        return max;
    }
}
