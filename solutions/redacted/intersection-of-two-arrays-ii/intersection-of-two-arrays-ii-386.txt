class Solution {

    public int[] intersect(int[] nums1, int[] nums2) {
        // Step 1: Initialize an array to count occurrences of each number in nums1
        int[] numsCount = new int[1000 + 1];
        // Step 2: Count occurrences of each number in nums1
        for (int num : nums1) {
            numsCount[num]++;
        }
        // Step 3: Prepare an array to store the intersection elements
        int[] result = new int[1000 + 1];
        // Index for storing elements in result array
        int resultInd = 0;
        // Step 4: Find intersection by iterating through nums2
        for (int num : nums2) {
            if (numsCount[num] > 0) {
                // Store the intersecting element
                result[resultInd++] = num;
                // Decrement count in numsCount array
                numsCount[num]--;
            }
        }
        // Step 5: Create a correctly sized result array and copy elements to it
        int[] result1 = new int[resultInd];
        System.arraycopy(result, 0, result1, 0, resultInd);
        // Step 6: Return the final result array
        return result1;
    }
}
