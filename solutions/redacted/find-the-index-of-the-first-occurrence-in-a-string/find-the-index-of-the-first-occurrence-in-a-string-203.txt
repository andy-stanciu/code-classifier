class Solution {

    public int strStr(String haystack, String needle) {
        int tmp1 = 0, tmp2 = 0;
        int m = haystack.length(), n = needle.length();
        while (tmp1 < m) {
            /* if match found then go until mismatch occurs
               or all charcacters matched */
            if (needle.charAt(tmp2) == haystack.charAt(tmp1)) {
                // if all characters matched
                if (tmp2 == n - 1)
                    return tmp1 - n + 1;
                else {
                    tmp2 += 1;
                    tmp1 += 1;
                }
            } else {
                /* revert back the tmp1 to that position
                    from where the string match started */
                tmp1 = tmp1 - tmp2 + 1;
                tmp2 = 0;
            }
        }
        return -1;
    }
}
