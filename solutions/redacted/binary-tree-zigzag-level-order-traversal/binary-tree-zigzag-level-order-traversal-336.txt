class Solution {

    public List<List<Integer>> method1(TreeNode root) {
        var re = new LinkedList<List<Integer>>();
        if (root == null)
            return re;
        var cl = new LinkedList<Integer>();
        var q = new LinkedList<TreeNode>();
        q.add(root);
        int l = 1, cnt = 0;
        boolean lr = true;
        while (!q.isEmpty()) {
            cnt++;
            var tmp = q.remove();
            if (lr)
                cl.add(tmp.val);
            else
                cl.addFirst(tmp.val);
            if (tmp.left != null)
                q.add(tmp.left);
            if (tmp.right != null)
                q.add(tmp.right);
            if (cnt == l) {
                re.add(cl);
                cl = new LinkedList<Integer>();
                lr = !lr;
                cnt = 0;
                l = q.size();
            }
        }
        return re;
    }
}
