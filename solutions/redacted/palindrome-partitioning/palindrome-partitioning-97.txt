class Solution {

    public List<List<String>> partition(String s) {
        ans(new ArrayList<>(), s, 0);
        return answer;
    }

    List<List<String>> answer = new ArrayList<>();

    public void ans(List<String> subans, String s, int i) {
        // base case // add the ans to the list
        if (i == s.length()) {
            answer.add(new ArrayList<>(subans));
            return;
        }
        // start partitioning and
        // check whether the string is palindrome
        // and then send for partitioning
        for (int j = i + 1; j <= s.length(); j++) {
            if (method1(s, i, j - 1)) {
                subans.add(s.substring(i, j));
                ans(subans, s, j);
                subans.remove(subans.size() - 1);
            }
        }
    }

    public boolean method1(String s, int start, int end) {
        while (start < end) {
            if (s.charAt(start++) != s.charAt(end--)) {
                return false;
            }
        }
        return true;
    }
}
