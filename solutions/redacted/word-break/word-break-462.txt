class Solution {

    public boolean method1(String str, List<String> param1) {
        Set<Integer> offsetsWithNoSolution = new HashSet<>();
        return method1(str, param1, 0, offsetsWithNoSolution);
    }

    public boolean method1(String str, List<String> param1, int offset, Set<Integer> cache) {
        if (cache.contains(offset))
            return false;
        else if (offset == str.length())
            return true;
        for (String var1 : param1) {
            if (str.startsWith(var1, offset))
                if (method1(str, param1, offset + var1.length(), cache))
                    return true;
        }
        cache.add(offset);
        return false;
    }
}
