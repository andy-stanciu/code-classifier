class Solution {

    boolean done = false;

    HashSet<Integer> hs = new HashSet<Integer>();

    public boolean method1(String s, List<String> param1) {
        dp(s, 0, 1, param1);
        return done;
    }

    public void dp(String s, int a, int b, List<String> param1) {
        if ((param1.contains(s.substring(a, b)) && b == s.length()) || done == true) {
            done = true;
            return;
        }
        if (b == s.length()) {
            hs.add(a);
            return;
        }
        if (hs.contains(a)) {
            return;
        }
        if (param1.contains(s.substring(a, b))) {
            dp(s, b, b + 1, param1);
        }
        dp(s, a, b + 1, param1);
        return;
    }
}
