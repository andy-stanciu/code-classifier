class Solution {

    public boolean method1(String s, List<String> param1) {
        Set<String> dict = new HashSet<>(param1);
        Boolean[] dp = new Boolean[s.length()];
        return helper(0, s, dict, dp);
    }

    private boolean helper(int index, String s, Set<String> dict, Boolean[] dp) {
        if (index == s.length())
            return true;
        if (dp[index] != null)
            return dp[index];
        for (int i = index + 1; i <= s.length(); i++) if (dict.contains(s.substring(index, i)) && helper(i, s, dict, dp))
            return dp[index] = true;
        return dp[index] = false;
    }
}
