class Solution {

    public boolean method1(String s, List<String> d) {
        return recurse(s, 0, d, new Boolean[s.length()]);
    }

    boolean recurse(String a, int ai, List<String> d, Boolean[] dp) {
        if (a.length() == 0)
            return true;
        if (dp[ai] != null)
            return dp[ai];
        for (String w : d) if (a.startsWith(w))
            if (recurse(a.substring(w.length()), ai + w.length(), d, dp))
                return true;
        return dp[ai] = false;
    }
}
