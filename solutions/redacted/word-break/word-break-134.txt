class Solution {

    HashMap<String, Boolean> combinations = new HashMap<>();

    int min_length = Integer.MAX_VALUE, max_length = Integer.MIN_VALUE;

    boolean dfs(String s) {
        if (combinations.containsKey(s))
            return combinations.get(s);
        List<String> list = new ArrayList<>();
        String var1;
        boolean is_good = false;
        int i = Math.min(max_length, s.length());
        for (; i >= min_length; i--) {
            var1 = s.substring(0, i);
            if (combinations.containsKey(var1) && combinations.get(var1))
                if (dfs(s.substring(i)))
                    break;
        }
        combinations.put(s, i >= min_length);
        return i >= min_length;
    }

    public boolean method1(String s, List<String> param1) {
        for (String var1 : param1) {
            combinations.put(var1, true);
            if (var1.length() < min_length)
                min_length = var1.length();
            if (var1.length() > max_length)
                max_length = var1.length();
        }
        return dfs(s);
    }
}
