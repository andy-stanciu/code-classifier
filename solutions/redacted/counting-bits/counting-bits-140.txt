class Solution {

    public int[] method1(int n) {
        if (n == 0)
            return new int[1];
        final int fence = n + 1;
        int[] bitCount = new int[fence];
        int number = 1;
        bitCount[number] = 1;
        while (number < fence) {
            final int currentBitCount = bitCount[number];
            int first = number << 1;
            if (first >= fence)
                break;
            bitCount[first] = currentBitCount;
            final int second = first + 1;
            if (second < fence) {
                bitCount[second] = currentBitCount + 1;
            }
            ++number;
        }
        return bitCount;
    }
}
