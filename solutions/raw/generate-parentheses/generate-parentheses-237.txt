class Solution {

    Set<String> uniquePattern = new HashSet<>();

    List<String> retList = new ArrayList<>();

    public List<String> generateParenthesis(int n) {
        if (n != 0)
            this.generatePattern(n, n, "");
        return retList;
    }

    public void generatePattern(int openCount, int closeCount, String currPattern) {
        if (openCount == 0 && closeCount == 0) {
            if (uniquePattern.add(currPattern))
                retList.add(currPattern);
            return;
        }
        if (openCount == closeCount)
            this.generatePattern(openCount - 1, closeCount, currPattern + "(");
        else {
            if (openCount > 0)
                this.generatePattern(openCount - 1, closeCount, currPattern + "(");
            this.generatePattern(openCount, closeCount - 1, currPattern + ")");
        }
    }
}
