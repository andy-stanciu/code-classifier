class Solution {

    public boolean canFinish(int numCourses, int[][] prerequisites) {
        boolean[] verified = new boolean[prerequisites.length];
        int[] dependent = new int[numCourses];
        for (int[] p : prerequisites) dependent[p[1]]++;
        boolean updated = true;
        while (updated) {
            updated = false;
            for (int i = 0; i < prerequisites.length; i++) {
                if (!verified[i] && dependent[prerequisites[i][0]] == 0) {
                    updated = verified[i] = true;
                    dependent[prerequisites[i][1]]--;
                }
            }
        }
        for (int i : dependent) if (i != 0)
            return false;
        return true;
    }
}
