class Solution {

    ListNode odd, even, ot, et;

    public ListNode oddEvenList(ListNode head) {
        even = et = odd = ot = null;
        go(head);
        pushodd(even);
        return odd;
    }

    void pushodd(ListNode node) {
        if (ot == null) {
            odd = ot = node;
        } else {
            ot.next = node;
            ot = node;
        }
    }

    void pusheve(ListNode node) {
        if (et == null) {
            even = et = node;
        } else {
            et.next = node;
            et = node;
        }
    }

    void go(ListNode node) {
        while (true) {
            if (node == null)
                return;
            pushodd(node);
            pusheve(node.next);
            if (node.next == null)
                return;
            node = node.next.next;
        }
    }
}
