class Solution {

    public void gameOfLife(int[][] board) {
        int r = board.length, c = board[0].length, val;
        if (r * c == 1) {
            board[0][0] = 0;
            return;
        }
        int[][] board1 = new int[r][c];
        if (r > 1 && c > 1)
            for (int i = 0; i < r; i++) {
                for (int j = 0; j < c; j++) {
                    val = 0;
                    if (i == 0 && j == 0) {
                        val += board[0][1] + board[1][1] + board[1][0];
                    } else if (i == 0 && j == c - 1) {
                        val += board[i][j - 1] + board[i + 1][j] + board[i + 1][j - 1];
                    } else if (j == 0 && i == r - 1) {
                        val += board[r - 2][0] + board[r - 2][1] + board[r - 1][1];
                    } else if (j == c - 1 && i == r - 1) {
                        val += board[i - 1][j] + board[i - 1][j - 1] + board[i][j - 1];
                    } else if (i == 0) {
                        val += board[0][j - 1] + board[0][j + 1] + board[1][j - 1] + board[1][j + 1] + board[1][j];
                    } else if (j == 0) {
                        val += board[i - 1][j] + board[i + 1][j] + board[i - 1][1] + board[i][1] + board[i + 1][1];
                    } else if (i == r - 1) {
                        val += board[i][j - 1] + board[i][j + 1] + board[i - 1][j - 1] + board[i - 1][j] + board[i - 1][j + 1];
                    } else if (j == c - 1) {
                        val += board[i - 1][j] + board[i + 1][j] + board[i - 1][j - 1] + board[i][j - 1] + board[i + 1][j - 1];
                    } else {
                        val += board[i - 1][j - 1] + board[i - 1][j] + board[i - 1][j + 1] + board[i][j - 1] + board[i][j + 1] + board[i + 1][j - 1] + board[i + 1][j] + board[i + 1][j + 1];
                    }
                    if (val < 2 || val > 3) {
                        board1[i][j] = 0;
                    } else if (board[i][j] == 0 && val != 3) {
                        board1[i][j] = 0;
                    } else {
                        board1[i][j] = 1;
                    }
                }
            }
        else if (r > 1) {
            board1[0][0] = 0;
            board1[r - 1][0] = 0;
            if (r > 2)
                for (int i = 1; i < r - 1; i++) {
                    val = board[i - 1][0] + board[i + 1][0];
                    if (val == 2 && board[i][0] == 1)
                        board1[i][0] = 1;
                    else
                        board1[i][0] = 0;
                }
        } else if (c > 1) {
            board1[0][0] = 0;
            board1[0][c - 1] = 0;
            if (c > 2)
                for (int i = 1; i < c - 1; i++) {
                    val = board[0][i - 1] + board[0][i + 1];
                    if (val == 2 && board[0][i] == 1)
                        board1[0][i] = 1;
                    else
                        board1[0][i] = 0;
                }
        }
        for (int i = 0; i < r; i++) {
            for (int j = 0; j < c; j++) {
                board[i][j] = board1[i][j];
            }
        }
    }
}
