class Solution {

    public void nextPermutation(int[] nums) {
        int i, j, l = nums.length, dif = -1;
        for (i = l - 2; i >= 0; i--) {
            if (nums[i] < nums[i + 1]) {
                dif = i;
                break;
            }
        }
        if (dif == -1) {
            i = 0;
            while (i < l - 1) {
                j = nums[i];
                nums[i] = nums[l - 1];
                nums[l - 1] = j;
                i++;
                l--;
            }
            return;
        }
        for (i = l - 1; i > dif; i--) {
            if (nums[i] > nums[dif]) {
                j = nums[i];
                nums[i] = nums[dif];
                nums[dif] = j;
                break;
            }
        }
        while (dif + 1 < l - 1) {
            j = nums[dif + 1];
            nums[dif + 1] = nums[l - 1];
            nums[l - 1] = j;
            dif++;
            l--;
        }
    }
}
