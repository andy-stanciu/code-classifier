class Solution {

    public String frequencySort(String s) {
        List<Character> list = new ArrayList<>();
        Map<Character, Integer> map = new HashMap<>();
        // collect frequency of each character in a map
        for (Character c : s.toCharArray()) {
            map.put(c, map.getOrDefault(c, 0) + 1);
        }
        // sort based on frequency value in decreasing order
        map.entrySet().stream().sorted(Collections.reverseOrder(Map.Entry.comparingByValue())).forEach(it -> {
            for (int i = 0; i < it.getValue(); i++) {
                list.add(it.getKey());
            }
        });
        // join the list item to string
        return list.stream().map(e -> e.toString()).collect(Collectors.joining());
    }
}
