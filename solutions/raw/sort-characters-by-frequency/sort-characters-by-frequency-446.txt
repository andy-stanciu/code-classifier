class Solution {

    public String frequencySort(String s) {
        // count the frequency of characters in s
        HashMap<Character, Integer> counter = new HashMap<>();
        for (char c : s.toCharArray()) {
            counter.putIfAbsent(c, 0);
            counter.put(c, counter.get(c) + 1);
        }
        // sort the characters by their frequency
        PriorityQueue<Frequency> pq = new PriorityQueue<>((f1, f2) -> f2.count - f1.count);
        for (char c : counter.keySet()) {
            pq.add(new Frequency(c, counter.get(c)));
        }
        // generate the result string which is chars in sorted order of frequency
        StringBuilder sb = new StringBuilder();
        while (!pq.isEmpty()) {
            Frequency freq = pq.poll();
            for (int i = 0; i < freq.count; i++) {
                sb.append(freq.c);
            }
        }
        return sb.toString();
    }
}

class Frequency {

    char c;

    int count;

    Frequency(char c, int count) {
        this.c = c;
        this.count = count;
    }
}
