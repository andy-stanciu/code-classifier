class Solution {

    public String frequencySort(String s) {
        char[] charArray = s.toCharArray();
        Arrays.sort(charArray);
        String sorted = new String(charArray);
        List<String> words = new ArrayList<>();
        int i, n = sorted.length();
        for (i = 0; i < n - 1; ) {
            int j = i + 1;
            while (j < n && sorted.charAt(j) == sorted.charAt(i)) {
                j++;
            }
            String temp = sorted.substring(i, j);
            words.add(temp);
            i = j;
        }
        if (i == n - 1) {
            words.add(sorted.substring(n - 1, n));
        }
        Collections.sort(words, (a, b) -> b.length() - a.length());
        StringBuilder ans = new StringBuilder();
        for (i = 0; i < words.size(); i++) {
            ans.append(words.get(i));
        }
        return ans.toString();
    }
}
