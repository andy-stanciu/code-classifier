class Solution {

    public String frequencySort(String s) {
        HashMap<Character, Integer> map = new HashMap<>();
        for (int i = 0; i < s.length(); i++) {
            map.put(s.charAt(i), map.get(s.charAt(i)) != null ? map.get(s.charAt(i)) + 1 : 1);
        }
        LinkedHashMap<Character, Integer> sortedMap = map.entrySet().stream().sorted(Map.Entry.<Character, Integer>comparingByValue().reversed()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -> e2, LinkedHashMap::new));
        StringBuilder resp = new StringBuilder();
        for (Map.Entry set : sortedMap.entrySet()) {
            for (int i = (int) set.getValue() - 1; i >= 0; i--) {
                resp.append(set.getKey());
            }
        }
        return resp.toString();
    }
}
