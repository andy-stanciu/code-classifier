class Solution {

    public String longestCommonPrefix(String[] strs) {
        int s = 0;
        int e = shortestlength(strs);
        int longest = 0;
        while (s <= e) {
            int mid = (s + e) / 2;
            if (ispossible(strs, mid)) {
                longest = mid;
                s = mid + 1;
            } else {
                e = mid - 1;
            }
        }
        return strs[0].substring(0, longest);
    }

    private boolean ispossible(String[] strs, int len) {
        for (int i = 0; i < strs.length - 1; i++) {
            String first = strs[i].substring(0, len);
            String second = strs[i + 1].substring(0, len);
            if (!first.equals(second)) {
                return false;
            }
        }
        return true;
    }

    private int shortestlength(String[] strs) {
        int shortestlen = Integer.MAX_VALUE;
        for (String word : strs) {
            shortestlen = Math.min(shortestlen, word.length());
        }
        return shortestlen;
    }
}
