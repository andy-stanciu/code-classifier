class Solution {

    public String longestCommonPrefix(String[] strs) {
        final String first = strs[0];
        int pos = first.length();
        final char[] window = new char[pos];
        // Forming a sliding window
        for (int i = 0; i < pos; i++) {
            window[i] = first.charAt(i);
        }
        for (int i = 1; i < strs.length; i++) {
            pos = equals(strs[i], window, pos);
            if (pos == 0) {
                return "";
            }
        }
        return String.valueOf(window, 0, pos);
    }

    private static int equals(String s, char[] window, int pos) {
        int lengthS = s.length();
        // If the size of our current window is larger than the size of
        // the row, then we narrow the window
        if (lengthS < pos) {
            pos = lengthS;
        }
        for (int i = 0; i < pos; i++) {
            if (s.charAt(i) != window[i]) {
                return i;
            }
        }
        return pos;
    }
}
