class Solution {

    public String convert(String s, int rows) {
        if (rows == 1)
            return s;
        int start = 0;
        boolean goingDown = true;
        StringBuilder[] stringBuilders = new StringBuilder[rows];
        for (int i = 0; i < rows; i++) stringBuilders[i] = new StringBuilder();
        for (char c : s.toCharArray()) {
            if (goingDown && start < rows) {
                stringBuilders[start].append(c);
                start++;
            }
            if (start == rows) {
                goingDown = false;
                start -= 2;
                continue;
            }
            if (!goingDown) {
                stringBuilders[start].append(c);
                start--;
            }
            if (start == 0) {
                goingDown = true;
            }
            if (start < 0) {
                goingDown = true;
                start = 1;
            }
        }
        StringBuilder resultString = new StringBuilder();
        for (StringBuilder sb : stringBuilders) {
            resultString.append(sb);
        }
        return resultString.toString();
    }
}
