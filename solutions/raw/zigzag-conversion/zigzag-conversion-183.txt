class Solution {

    public String convert(String s, int numRows) {
        if (numRows == 1)
            return s;
        int l = s.length();
        StringBuilder builder = new StringBuilder();
        int initJump = (numRows - 1) * 2;
        int rId = 0;
        int currId = rId;
        boolean c = true;
        for (int i = 0; i < l; i++) {
            if (currId >= l) {
                rId++;
                currId = rId;
                c = true;
            }
            builder.append(s.charAt(currId));
            int idx1 = initJump - rId * 2;
            int idx2 = initJump - idx1;
            if (idx1 != 0 && idx2 != 0) {
                c = !c;
            } else {
                idx1 = Math.max(idx1, idx2);
                c = false;
            }
            currId += c ? idx2 : idx1;
        }
        return builder.toString();
    }
}
