class Solution {

    public String convert(String s, int numRows) {
        StringBuffer finalString = new StringBuffer();
        if (numRows == 1) {
            return s;
        }
        for (int i = 1; i <= numRows; i++) {
            int step1 = (numRows - (i)) * 2;
            int step2 = (numRows - (numRows - (i - 1))) * 2;
            boolean followStep1 = step1 != 0;
            StringBuffer row = new StringBuffer();
            int nextIndex = i - 1;
            while (nextIndex < s.length()) {
                char nextChar = s.charAt(nextIndex);
                row = row.append(nextChar);
                if (followStep1) {
                    nextIndex += step1;
                } else {
                    nextIndex += step2;
                }
                if (step1 != 0 && step2 != 0) {
                    followStep1 = !followStep1;
                }
            }
            finalString.append(row);
        }
        return finalString.toString();
    }
}
