class Solution {

    public String convert(String s, int numRows) {
        if (numRows == 1) {
            return s;
        }
        StringBuffer output = new StringBuffer();
        int rowCount = 0;
        int zigZagIdx = 0;
        int adjustment = 0;
        for (int i = 0; i < s.length(); i++) {
            output.append(s.charAt(zigZagIdx));
            int newZigZagIdx = zigZagIdx + (2 * numRows) - 2 - (2 * adjustment);
            adjustment = numRows - adjustment - 1;
            if (zigZagIdx == newZigZagIdx) {
                newZigZagIdx = zigZagIdx + (2 * numRows) - 2 - (2 * adjustment);
            }
            zigZagIdx = newZigZagIdx;
            if (zigZagIdx > s.length() - 1) {
                zigZagIdx = ++rowCount;
                adjustment = rowCount;
            }
        }
        return output.toString();
    }
}
