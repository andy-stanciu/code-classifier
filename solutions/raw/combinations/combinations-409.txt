class Solution {

    public List<List<Integer>> combine(int n, int k) {
        List<List<Integer>> answer = new ArrayList<>();
        Integer[] combinations = new Integer[k];
        for (int i = 1; i <= k; i++) combinations[i - 1] = i;
        while (true) {
            List<Integer> answerList = new ArrayList<>();
            for (int i : combinations) answerList.add(i);
            // System.out.print("Array: ");
            // for (int i: combinations) System.out.print(" " + i);
            // System.out.println();
            answer.add(answerList);
            // last answer
            if (combinations[0] + k - 1 == n)
                break;
            int lastCarry = k - 1;
            while (combinations[lastCarry] + (k - lastCarry - 1) == n && lastCarry > 0) lastCarry--;
            combinations[lastCarry] = combinations[lastCarry] + 1;
            for (; lastCarry + 1 < k; lastCarry++) combinations[lastCarry + 1] = combinations[lastCarry] + 1;
        }
        return answer;
    }
}
