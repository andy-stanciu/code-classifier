class Solution {

    public List<List<Integer>> combine(int n, int k) {
        List<List<Integer>> result = new ArrayList<>();
        Stack<Integer> stack = new Stack<>();
        int index = 1;
        while (true) {
            int stackSize = stack.size();
            if (stackSize == k) {
                List<Integer> subset = new ArrayList<>(stack);
                result.add(subset);
            }
            if (stackSize == k || index > n) {
                if (stack.isEmpty()) {
                    break;
                }
                index = stack.pop() + 1;
            } else {
                stack.push(index);
                index++;
            }
        }
        return result;
    }
}
