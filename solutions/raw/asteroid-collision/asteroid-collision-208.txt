class Solution {

    public int[] asteroidCollision(int[] asteroids) {
        int n = asteroids.length;
        Stack<Integer> st = new Stack<>();
        for (int i = 0; i < n; i++) {
            int asteroid = asteroids[i];
            int resultantMeteor = asteroid;
            // if st top meteor goes in right & incoing meteor goes left so its a collison
            while (!st.isEmpty() && asteroid < 0 && st.peek() > 0) {
                int value1 = st.peek();
                int value2 = asteroid;
                // rightward meteor is bigger so no need to add it since its already been added
                if (Math.abs(value1) > Math.abs(value2)) {
                    resultantMeteor = 0;
                    break;
                } else // leftward meteor is heavier ,pop the rightward meteor  add it
                if (Math.abs(value2) > Math.abs(value1)) {
                    st.pop();
                    resultantMeteor = value2;
                } else // if two meteors are of same size, destroy the both meteors
                {
                    resultantMeteor = 0;
                    st.pop();
                    break;
                }
            }
            // add only if resultantMeteor exist
            if (resultantMeteor != 0)
                st.push(resultantMeteor);
        }
        int[] nums = new int[st.size()];
        for (int i = st.size() - 1; i >= 0; i--) nums[i] = st.pop();
        return nums;
    }
}
