public class Solution {

    public int[] asteroidCollision(int[] asteroids) {
        int[] arr = new int[asteroids.length];
        int j = 0;
        for (int i = 0; i < asteroids.length; i++) {
            if (j == 0 || asteroids[i] > 0 || (arr[j - 1] < 0 && asteroids[i] < 0)) {
                arr[j++] = asteroids[i];
            } else {
                int x = Math.abs(asteroids[i]);
                int y = Math.abs(arr[j - 1]);
                if (x == y) {
                    j--;
                } else if (x < y) {
                    continue;
                } else {
                    while (j > 0 && arr[j - 1] > 0 && arr[j - 1] < x) {
                        j--;
                    }
                    if (j > 0 && arr[j - 1] == x) {
                        j--;
                    } else if (j == 0 || arr[j - 1] < 0) {
                        arr[j++] = asteroids[i];
                    }
                }
            }
        }
        int[] result = new int[j];
        System.arraycopy(arr, 0, result, 0, j);
        return result;
    }
}
