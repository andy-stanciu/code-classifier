class Solution {

    public int[] asteroidCollision(int[] asteroids) {
        int ind = -1;
        for (int a : asteroids) ind = collide(a, ind, asteroids);
        return Arrays.copyOf(asteroids, ind + 1);
    }

    private int collide(int cur, int ind, int[] stack) {
        while (ind > -1 && stack[ind] > 0 && Integer.signum(cur * stack[ind]) < 0) {
            if (stack[ind] == -cur)
                return ind - 1;
            if (stack[ind] > -cur)
                return ind;
            ind--;
        }
        stack[++ind] = cur;
        return ind;
    }
}
