class Solution {

    public int[] asteroidCollision(int[] asteroids) {
        if (asteroids.length == 1) {
            return asteroids;
        }
        List<Integer> resultList = new ArrayList<>();
        resultList.add(asteroids[0]);
        int position = 1;
        while (position < asteroids.length) {
            while (true) {
                if (resultList.size() > 0 && resultList.get(resultList.size() - 1) > 0 && asteroids[position] < 0) {
                    int compare = resultList.get(resultList.size() - 1) + asteroids[position];
                    if (compare > 0) {
                        break;
                    } else if (compare == 0) {
                        resultList.remove(resultList.size() - 1);
                        break;
                    } else {
                        resultList.remove(resultList.size() - 1);
                    }
                } else {
                    resultList.add(asteroids[position]);
                    break;
                }
            }
            position++;
        }
        int[] result = new int[resultList.size()];
        for (int i = 0; i < resultList.size(); i++) {
            result[i] = resultList.get(i);
        }
        return result;
    }
}
