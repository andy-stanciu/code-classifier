class Solution {

    public int compress(char[] chars) {
        char previousChar = 0;
        int freq = 0;
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < chars.length; i++) {
            char currentChar = chars[i];
            if (previousChar != currentChar) {
                if (freq > 1) {
                    sb.append(freq);
                }
                sb.append(currentChar);
                freq = 1;
            } else {
                freq++;
            }
            previousChar = currentChar;
        }
        if (freq > 1) {
            sb.append(freq);
        }
        char[] compressedChars = sb.toString().toCharArray();
        for (int i = 0; i < compressedChars.length; i++) {
            chars[i] = compressedChars[i];
        }
        return compressedChars.length;
    }
}
