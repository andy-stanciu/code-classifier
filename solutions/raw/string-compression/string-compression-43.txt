class Solution {

    public int compress(char[] chars) {
        int a = 0, b = 0, n = chars.length;
        while (b < n) {
            var cnt = 1;
            for (; b + 1 < n && chars[b + 1] == chars[b]; b++, cnt++) ;
            chars[a++] = chars[b++];
            if (cnt > 1)
                for (var c : Integer.toString(cnt).toCharArray()) chars[a++] = c;
        }
        return a;
    }
}
