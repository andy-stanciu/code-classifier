class Solution {

    public int compress(char[] chars) {
        {
            int indexOut = 0, index = 0;
            while (index < chars.length) {
                char currentChar = chars[index];
                int count = 0;
                while (index < chars.length && currentChar == chars[index]) {
                    index++;
                    count++;
                }
                chars[indexOut++] = currentChar;
                if (count > 1) {
                    for (char c : Integer.toString(count).toCharArray()) {
                        chars[indexOut++] = c;
                    }
                }
            }
            return indexOut;
        }
    }
}
