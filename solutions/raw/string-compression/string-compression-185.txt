class Solution {

    public int compress(char[] chars) {
        StringBuilder sb = new StringBuilder();
        int count = 0;
        char currentChar = chars[0];
        for (char c : chars) {
            if (c == currentChar) {
                count++;
            } else {
                updateString(sb, currentChar, count);
                currentChar = c;
                count = 1;
            }
        }
        updateString(sb, currentChar, count);
        int len = sb.length();
        sb.getChars(0, len, chars, 0);
        return len;
    }

    private void updateString(StringBuilder sb, char currentChar, int count) {
        sb.append(currentChar);
        if (count > 1) {
            sb.append(String.valueOf(count));
        }
    }
}
