class Solution {

    public int compress(char[] chars) {
        StringBuilder s = new StringBuilder();
        int x = chars.length;
        if (x < 2)
            return x;
        int i = 0, j = 0;
        while (j < x - 1) {
            j++;
            s.append(chars[i]);
            int count = 0;
            if (chars[i] == chars[j]) {
                count++;
                while (j < x && chars[i] == chars[j]) {
                    count++;
                    j++;
                }
                if (count > 1)
                    s.append(count);
                i = j;
            } else {
                i++;
            }
            if (j == x - 1)
                s.append(chars[j]);
        }
        int n = s.length();
        for (int k = 0; k < n; k++) {
            chars[k] = s.charAt(k);
        }
        return n;
    }
}
