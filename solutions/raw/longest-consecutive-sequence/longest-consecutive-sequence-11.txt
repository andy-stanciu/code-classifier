class Solution {

    public int longestConsecutive(int[] nums) {
        Set<Integer> numSet = new HashSet<>();
        for (int num : nums) {
            numSet.add(num);
        }
        Map<Integer, Integer> table = new HashMap<>();
        int maxval = 0;
        for (int num : numSet) {
            if (table.containsKey(num))
                continue;
            int x = table.getOrDefault(num - 1, 0);
            int y = table.getOrDefault(num + 1, 0);
            int val = x + y + 1;
            table.put(num - x, val);
            table.put(num + y, val);
            maxval = Math.max(maxval, val);
        }
        return maxval;
    }
}
