class Solution {

    Map<Integer, Boolean> vMap = new HashMap<>();

    public int longestConsecutive(int[] nums) {
        for (int n : nums) {
            vMap.put(n, false);
        }
        int maxLen = 0;
        for (int n : nums) {
            if (vMap.containsKey(n)) {
                maxLen = Math.max(maxLen, dfs(n));
            }
        }
        return maxLen;
    }

    int dfs(int from) {
        vMap.put(from, true);
        int len = 1;
        Boolean prev = vMap.get(from - 1);
        if (prev != null && prev == false) {
            len += dfs(from - 1);
        }
        Boolean next = vMap.get(from + 1);
        if (next != null && next == false) {
            len += dfs(from + 1);
        }
        return len;
    }
}
