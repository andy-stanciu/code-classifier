class Solution {

    public int longestConsecutive(int[] nums) {
        var set = new HashSet<Integer>();
        var map = new HashMap<Integer, Integer>();
        var longest = 0;
        for (int num : nums) {
            set.add(num);
        }
        for (int num : set) {
            var x = map.getOrDefault(num - 1, 0);
            var y = map.getOrDefault(num + 1, 0);
            var val = x + y + 1;
            map.put(num - x, val);
            map.put(num + y, val);
            longest = Math.max(longest, val);
        }
        return longest;
    }
}
