class Solution {

    public boolean containsNearbyDuplicate(int[] nums, int k) {
        Map<Integer, List<Integer>> numsMap = new HashMap<>();
        List<Integer> indexLis;
        for (int i = 0; i < nums.length; i++) {
            if (!numsMap.containsKey(nums[i])) {
                indexLis = new ArrayList<>();
                indexLis.add(i);
                numsMap.put(nums[i], indexLis);
            } else {
                indexLis = numsMap.get(nums[i]);
                if (Math.abs(i - indexLis.get(indexLis.size() - 1)) <= k)
                    return true;
                indexLis.add(i);
                numsMap.put(nums[i], indexLis);
            }
        }
        return false;
    }
}
