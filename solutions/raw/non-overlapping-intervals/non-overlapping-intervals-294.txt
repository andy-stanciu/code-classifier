class Solution {

    public int eraseOverlapIntervals(int[][] intervals) {
        Arrays.sort(intervals, (interval1, interval2) -> {
            int subtractStart = interval1[1] - interval2[1];
            if (subtractStart != 0)
                return subtractStart;
            else
                return interval2[0] - interval1[0];
        });
        // how many intervals max can keep end at i th interval
        int count = 0;
        int preStart = Integer.MIN_VALUE;
        int preEnd = Integer.MIN_VALUE;
        for (int[] interval : intervals) {
            if (interval[0] >= preEnd) {
                preEnd = interval[1];
                preStart = interval[0];
                count++;
            }
        }
        return intervals.length - count;
    }
}
