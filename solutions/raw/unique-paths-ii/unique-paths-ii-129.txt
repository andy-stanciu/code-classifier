class Solution {

    public int uniquePathsWithObstacles(int[][] obstacleGrid) {
        return uniquePathsWithObstacles(obstacleGrid, 0, 0, new HashMap<>());
    }

    public int uniquePathsWithObstacles(int[][] obstacleGrid, int i, int j, HashMap<String, Integer> memo) {
        String key = i + "-" + j;
        if (memo.containsKey(key))
            return memo.get(key);
        if (obstacleGrid[i][j] == 1)
            return 0;
        if (i == obstacleGrid.length - 1 && j == obstacleGrid[0].length - 1)
            return 1;
        int down = 0;
        int right = 0;
        if (i < obstacleGrid.length - 1)
            down = uniquePathsWithObstacles(obstacleGrid, i + 1, j, memo);
        if (j < obstacleGrid[0].length - 1)
            right = uniquePathsWithObstacles(obstacleGrid, i, j + 1, memo);
        memo.put(key, down + right);
        return right + down;
    }
}
