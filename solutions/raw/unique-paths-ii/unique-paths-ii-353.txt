class Solution {

    public int uniquePathsWithObstacles(int[][] obstacleGrid) {
        int[][] ansArray = new int[obstacleGrid.length][obstacleGrid[0].length];
        int ans = searchPaths(obstacleGrid, 0, 0, ansArray);
        return ans;
    }

    public int searchPaths(int[][] obstacleGrid, int row, int col, int[][] ansArray) {
        if (obstacleGrid[row][col] == 1)
            return 0;
        if (row == obstacleGrid.length - 1 && col == obstacleGrid[0].length - 1)
            return 1;
        int down = 0, right = 0;
        if (col + 1 <= obstacleGrid[0].length - 1) {
            if (ansArray[row][col + 1] == 0)
                right = searchPaths(obstacleGrid, row, col + 1, ansArray);
            else
                right = ansArray[row][col + 1];
        }
        if (row + 1 <= obstacleGrid.length - 1) {
            if (ansArray[row + 1][col] == 0)
                down = searchPaths(obstacleGrid, row + 1, col, ansArray);
            else
                down = ansArray[row + 1][col];
        }
        ansArray[row][col] = down + right;
        return down + right;
    }
}
