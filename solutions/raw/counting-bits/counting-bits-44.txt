class Solution {

    private int[] bitsSetTable256 = new int[256];

    public void initialize() {
        bitsSetTable256[0] = 0;
        for (int i = 0; i < 256; i++) {
            bitsSetTable256[i] = (i & 1) + bitsSetTable256[i / 2];
        }
    }

    public int[] countBits(int n) {
        initialize();
        int[] ans = new int[n + 1];
        for (int i = 0; i <= n; i++) {
            ans[i] = countSetBits(i);
        }
        return ans;
    }

    public int countSetBits(int n) {
        return bitsSetTable256[n & 0xff] + bitsSetTable256[(n >> 8) & 0xff] + bitsSetTable256[(n >> 16) & 0xff] + bitsSetTable256[n >> 24];
    }
}
// TC: O(n), SC: O(n)
