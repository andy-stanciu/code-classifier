class Solution {

    public boolean wordPattern(String pattern, String s) {
        char[] patArr = pattern.toCharArray();
        String[] sArr = s.split(" ");
        boolean res = true;
        if (patArr.length != sArr.length)
            return false;
        HashSet<Character> patSet = new HashSet<>();
        HashSet<String> sSet = new HashSet<>();
        HashMap<Character, String> patSMap = new HashMap<>();
        for (int i = 0; i < patArr.length; i++) {
            if (patSMap.containsKey(patArr[i]) && !patSMap.get(patArr[i]).equals(sArr[i])) {
                res = false;
            } else {
                patSMap.put(patArr[i], sArr[i]);
            }
            patSet.add(patArr[i]);
            sSet.add(sArr[i]);
        }
        if (res)
            res = patSet.size() == sSet.size();
        return res;
    }
}
