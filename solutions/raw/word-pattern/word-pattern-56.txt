class Solution {

    public boolean wordPattern(String pattern, String s) {
        String[] string = s.split(" ");
        char[] pat = pattern.toCharArray();
        if (string.length == pat.length) {
            Map<Character, String> dict = new HashMap<Character, String>();
            for (int i = 0; i < pat.length; i++) {
                if (dict.containsKey(pat[i])) {
                    if (!dict.get(pat[i]).equals(string[i])) {
                        return false;
                    }
                } else if (dict.containsValue(string[i])) {
                    return false;
                } else {
                    dict.put(pat[i], string[i]);
                }
            }
            return true;
        } else {
            return false;
        }
    }
}
