class Solution {

    public boolean wordPattern(String pattern, String s) {
        Map<Character, String> map = new HashMap<>();
        Map<String, Character> opMap = new HashMap<>();
        char[] chars = pattern.toCharArray();
        String[] strs = s.split(" ");
        int pl = chars.length;
        int sl = strs.length;
        int i = 0;
        if (sl != pl) {
            return false;
        }
        for (String word : strs) {
            Character ch = chars[i];
            if (map.containsKey(ch) && !word.equals(map.get(ch))) {
                return false;
            } else if (opMap.containsKey(word) && ch != opMap.get(word)) {
                return false;
            }
            map.put(ch, word);
            opMap.put(word, ch);
            i++;
        }
        return true;
    }
}
