class Solution {

    public boolean wordPattern(String pattern, String s) {
        HashMap<Character, String> ctos = new HashMap<>();
        HashMap<String, Character> stoc = new HashMap<>();
        String[] str = s.split(" ");
        if (str.length != pattern.length())
            return false;
        for (int i = 0; i < str.length; i++) {
            String word = str[i];
            char ch = pattern.charAt(i);
            if (!ctos.containsKey(ch)) {
                if (!stoc.containsKey(word)) {
                    ctos.put(ch, word);
                    stoc.put(word, ch);
                } else
                    return false;
            } else {
                if (!stoc.containsKey(word)) {
                    return false;
                }
                if (!word.equals(ctos.get(ch)))
                    return false;
            }
        }
        return true;
    }
}
// class Solution {
//     public boolean wordPattern(String pattern, String s) {
//         HashMap<Character,String> hm = new HashMap<>();
//         HashMap<String,Character> mh = new HashMap<>();
//         String[] word = s.split(" ");
//         if(pattern.length()!=word.length)
//         return false;
//         for(int i=0;i<pattern.length();i++){
//             char ch = pattern.charAt(i);
//             String sub = word[i];
//             if(hm.containsKey(ch)){
//                 if(!sub.equals(hm.get(ch)))
//                 return false;
//             }
//             else if(mh.containsKey(sub)){
//                 if(ch != mh.get(sub))
//                 return false;
//             }
//             else
//             hm.put(ch,sub);
//             mh.put(sub,ch);
//         }
//         return true;
//     }
// }
