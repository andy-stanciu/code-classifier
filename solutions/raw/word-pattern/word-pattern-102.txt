class Solution {

    public boolean wordPattern(String pattern, String s) {
        String[] split = s.split(" ");
        int l1 = pattern.length();
        int l2 = split.length;
        if (l1 != l2)
            return false;
        char[] charArray = pattern.toCharArray();
        HashMap<Character, String> pToS = new HashMap<>();
        HashMap<String, Character> sToP = new HashMap<>();
        for (int i = 0; i < l1; i++) {
            char ch = charArray[i];
            String p = pToS.get(ch);
            String str = split[i];
            if (p == null) {
                pToS.put(ch, str);
            } else {
                if (!p.equals(str)) {
                    return false;
                }
            }
            Character c = sToP.get(str);
            if (c == null) {
                sToP.put(str, ch);
            } else {
                if (c != ch) {
                    return false;
                }
            }
        }
        return true;
    }
}
