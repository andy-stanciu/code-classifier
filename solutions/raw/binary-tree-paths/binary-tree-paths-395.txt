class Solution {

    public static ArrayList<String> result;

    public static void add_to_list(StringBuilder str) {
        result.add(str.toString());
    }

    public static void preorder(TreeNode root, StringBuilder str) {
        if (root == null) {
            return;
        }
        str.append("" + root.val);
        if (root.left == null && root.right == null) {
            add_to_list(str);
            return;
        }
        str.append("->");
        preorder(root.left, new StringBuilder(str.toString()));
        preorder(root.right, new StringBuilder(str.toString()));
    }

    public List<String> binaryTreePaths(TreeNode root) {
        result = new ArrayList<String>();
        StringBuilder str = new StringBuilder();
        preorder(root, str);
        return result;
    }
}
