class Solution {

    public boolean isSymmetric(TreeNode root) {
        if (root.right == null && root.left == null) {
            return true;
        }
        var leftVals = new ArrayList<Object>();
        var rightVals = new ArrayList<Object>();
        traverseL(root.left, leftVals);
        traverseR(root.right, rightVals);
        return leftVals.equals(rightVals);
    }

    private void traverseL(TreeNode treeNode, ArrayList<Object> arrayList) {
        if (treeNode == null) {
            arrayList.add("null");
            return;
        }
        arrayList.add(treeNode.val);
        if (treeNode.left != null) {
            traverseL(treeNode.left, arrayList);
        } else {
            arrayList.add("null");
        }
        if (treeNode.right != null) {
            traverseL(treeNode.right, arrayList);
        } else {
            arrayList.add("null");
        }
    }

    private void traverseR(TreeNode treeNode, ArrayList<Object> arrayList) {
        if (treeNode == null) {
            arrayList.add("null");
            return;
        }
        arrayList.add(treeNode.val);
        if (treeNode.right != null) {
            traverseR(treeNode.right, arrayList);
        } else {
            arrayList.add("null");
        }
        if (treeNode.left != null) {
            traverseR(treeNode.left, arrayList);
        } else {
            arrayList.add("null");
        }
    }
}
