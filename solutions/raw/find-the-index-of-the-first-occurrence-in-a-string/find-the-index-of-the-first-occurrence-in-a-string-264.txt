class Solution {

    public int strStr(String haystack, String needle) {
        if (haystack.isEmpty() || needle.isEmpty() || needle.length() > haystack.length())
            return -1;
        if (haystack.equals(needle))
            return 0;
        int hayIdx = 0;
        int neeIdx = 0;
        int result = -1;
        while (true) {
            if (neeIdx == needle.length()) {
                return result;
            }
            if (hayIdx == haystack.length()) {
                return -1;
            }
            char hayChar = haystack.charAt(hayIdx);
            char neeChar = needle.charAt(neeIdx);
            if (hayChar == neeChar) {
                if (result == -1) {
                    result = hayIdx;
                }
                neeIdx++;
            } else {
                if (result > -1) {
                    hayIdx = result;
                }
                neeIdx = 0;
                result = -1;
            }
            hayIdx++;
        }
    }
}
