class Solution {

    public int strStr(String haystack, String needle) {
        int needleIndex = 0;
        int haystackIndex = 0;
        int firstOccurrence = -1;
        while (haystackIndex < haystack.length()) {
            //chars match
            if (haystack.charAt(haystackIndex) == needle.charAt(needleIndex)) {
                //if no first index has already been set
                if (firstOccurrence == -1) {
                    firstOccurrence = haystackIndex;
                    needleIndex++;
                } else //if first index has already been set
                {
                    needleIndex++;
                }
                //when we\'ve matched the last letter of the word we know its our word
                if (needleIndex == needle.length()) {
                    return firstOccurrence;
                }
            } else //when the chars do not match
            {
                if (firstOccurrence == -1) {
                    needleIndex = 0;
                } else {
                    haystackIndex = firstOccurrence + 1;
                    needleIndex = 0;
                    firstOccurrence = -1;
                    continue;
                }
            }
            haystackIndex++;
        }
        if (needleIndex < needle.length()) {
            firstOccurrence = -1;
        }
        return firstOccurrence;
    }
}
