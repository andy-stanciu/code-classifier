class Solution {

    public ListNode reverseKGroup(ListNode head, int k) {
        ListNode tail = head, prev = null;
        int i = 0;
        for (; i < k && tail != null; i++) {
            prev = tail;
            tail = tail.next;
        }
        if (i < k) {
            return head;
        }
        ListNode smallAns = reverseKGroup(tail, k);
        ListNode curr = head, ahead;
        prev.next = null;
        while (curr != null) {
            ahead = curr.next;
            curr.next = prev;
            prev = curr;
            curr = ahead;
        }
        head.next = smallAns;
        return prev;
    }
}
