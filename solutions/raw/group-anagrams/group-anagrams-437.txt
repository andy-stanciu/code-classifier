class Solution {

    public List<List<String>> groupAnagrams(String[] strs) {
        // some validation at the beginning
        // assueme all the constrains are passed
        Map<String, List<String>> anagramsMap = new HashMap<>();
        for (int i = 0; i < strs.length; ++i) {
            String currentStr = strs[i];
            String convertedStr = bubbleSortString(currentStr);
            List currentList = anagramsMap.get(convertedStr);
            if (currentList == null) {
                currentList = new ArrayList();
            }
            currentList.add(currentStr);
            anagramsMap.put(convertedStr, currentList);
        }
        List anagramsFinalList = new ArrayList();
        anagramsMap.forEach((key, value) -> anagramsFinalList.add(value));
        return anagramsFinalList;
    }

    public String bubbleSortString(String rawString) {
        char[] charArray = rawString.toCharArray();
        for (int i = 0; i < charArray.length - 1; ++i) {
            for (int j = 0; j < charArray.length - 1; ++j) {
                if (charArray[j] > charArray[j + 1]) {
                    char temp = charArray[j + 1];
                    charArray[j + 1] = charArray[j];
                    charArray[j] = temp;
                }
            }
        }
        System.out.println(new String(charArray));
        return new String(charArray);
    }
}
