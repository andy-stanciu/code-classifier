class Solution {

    public int findTargetSumWays(int[] nums, int target) {
        HashMap<String, Integer> memo = new HashMap<>();
        return targetSum(nums, target, 0, memo);
    }

    int targetSum(int[] nums, int target, int index, HashMap<String, Integer> memo) {
        if (memo.get(target + "," + index) != null)
            return memo.get(target + "," + index);
        int numWays = 0;
        if (index > nums.length)
            numWays = 0;
        else if (index == nums.length) {
            numWays = target == 0 ? 1 : 0;
        } else {
            numWays = targetSum(nums, target - nums[index], index + 1, memo) + targetSum(nums, target + nums[index], index + 1, memo);
        }
        memo.put(target + "," + index, numWays);
        return numWays;
    }
}
