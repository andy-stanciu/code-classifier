class Solution {

    public int findTargetSumWays(int[] nums, int target) {
        return helper(nums, 0, -target, new HashMap<String, Integer>());
    }

    private int helper(int[] nums, int index, int target, Map<String, Integer> cache) {
        if (index == nums.length) {
            return target == 0 ? 1 : 0;
        }
        String key = new StringBuilder().append(index).append(",").append(target).toString();
        if (!cache.containsKey(key)) {
            cache.put(key, helper(nums, index + 1, target - nums[index], cache) + helper(nums, index + 1, target + nums[index], cache));
        }
        return cache.get(key);
    }
}
