class Solution {

    public int findTargetSumWays(int[] nums, int target) {
        return tw(nums, target, 0, new HashMap<String, Integer>());
    }

    public static int tw(int[] nums, int target, int cv, HashMap<String, Integer> mm) {
        if (cv >= nums.length) {
            if (target == 0) {
                return 1;
            } else {
                return 0;
            }
        }
        String sk = Integer.toString(cv) + "-" + Integer.toString(target);
        if (mm.containsKey(sk)) {
            return mm.get(sk);
        }
        int pos = tw(nums, target - nums[cv], cv + 1, mm);
        int neg = tw(nums, target + nums[cv], cv + 1, mm);
        mm.put(sk, pos + neg);
        return mm.get(sk);
    }
}
