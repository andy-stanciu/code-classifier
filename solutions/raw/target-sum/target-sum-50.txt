class Solution {

    public int findTargetSumWays(int[] nums, int target) {
        return totalWays(0, nums, target, new HashMap<String, Integer>());
    }

    int totalWays(int curr, int[] nums, int target, HashMap<String, Integer> map) {
        if (curr >= nums.length && target == 0) {
            return 1;
        }
        if (curr >= nums.length && target != 0) {
            return 0;
        }
        String currentKey = curr + "_" + target;
        if (map.containsKey(currentKey)) {
            return map.get(currentKey);
        }
        int pos = totalWays(curr + 1, nums, target - nums[curr], map);
        int neg = totalWays(curr + 1, nums, target + nums[curr], map);
        map.put(currentKey, pos + neg);
        return pos + neg;
    }
}
