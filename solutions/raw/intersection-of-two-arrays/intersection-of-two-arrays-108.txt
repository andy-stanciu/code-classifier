class Solution {

    public int[] intersection(int[] nums1, int[] nums2) {
        // Create an array to count occurrences
        int[] countArray = new int[1001];
        // Use an ArrayList to store the intersection elements
        ArrayList<Integer> resList = new ArrayList<Integer>();
        // Mark the presence of elements from the first array
        for (int num1 : nums1) countArray[num1] = 1;
        // If an element in the second array was marked in countArray, mark it as 2 (found in both)
        for (int num2 : nums2) if (countArray[num2] == 1)
            countArray[num2] = 2;
        // Collect elements found in both arrays
        for (int i = 0; i < countArray.length; i++) {
            if (countArray[i] == 2) {
                resList.add(i);
            }
        }
        // Convert the ArrayList to an array for the return value
        int[] res = new int[resList.size()];
        for (int i = 0; i < resList.size(); i++) {
            res[i] = resList.get(i);
        }
        return res;
    }
}
