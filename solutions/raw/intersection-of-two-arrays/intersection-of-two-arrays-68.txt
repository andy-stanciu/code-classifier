class Solution {

    public int[] intersection(int[] nums1, int[] nums2) {
        // Create an array to store the frequency of numbers from nums1.
        // We use 1001 to handle numbers from 0 to 1000 inclusively.
        int[] frequencyArray = new int[1001];
        // Mark the frequency of numbers from nums1 as 2.
        for (int num : nums1) {
            frequencyArray[num] = 2;
        }
        // Count the common elements between nums1 and nums2.
        int count = 0;
        for (int num : nums2) {
            // If the number exists in nums1, mark its frequency as 1 and increment count.
            if (frequencyArray[num] == 2) {
                count++;
                frequencyArray[num] = 1;
            }
        }
        // Create an array to store the common elements.
        int[] result = new int[count];
        int index = 0;
        // Populate the result array with common elements from nums2.
        for (int num : nums2) {
            if (frequencyArray[num] == 1) {
                // If the number is common, add it to the result array and mark its frequency as
                // 0.
                frequencyArray[num] = 0;
                result[index++] = num;
            }
        }
        // Return the array containing common elements.
        return result;
    }
}
