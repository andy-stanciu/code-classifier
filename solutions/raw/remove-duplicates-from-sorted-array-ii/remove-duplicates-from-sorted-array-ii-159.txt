class Solution {

    public int removeDuplicates(int[] nums) {
        // Initialize counters
        // Counter for consecutive duplicates
        int c = 0;
        // Counter for the number of elements to be deleted
        int de = 0;
        // Iterate through the array, stopping before the last element
        for (int i = 0; i < nums.length - 1; i++) {
            // Check if the current element is the same as the next one
            if (nums[i] == nums[i + 1]) {
                // Increment the duplicate counter
                c++;
                // If there are more than two duplicates
                if (c > 1) {
                    // Mark the current element for deletion by setting it to MAX_VALUE
                    nums[i] = Integer.MAX_VALUE;
                    // Increment the deletion counter
                    de++;
                }
            } else {
                // Reset the duplicate counter if the current element is different
                c = 0;
            }
        }
        // Sort the array to move the marked elements (MAX_VALUE) to the end
        Arrays.sort(nums);
        // Return the length of the modified array (original length - number of deletions)
        return (nums.length - de);
    }
}
