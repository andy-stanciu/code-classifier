class Solution {

    public int removeDuplicates(int[] nums) {
        int currentCount = 0;
        int currentNumber = nums[0];
        int start = 0;
        int end = -1;
        int result = 0;
        while (++end < nums.length) {
            if (nums[end] == currentNumber) {
                currentCount++;
            } else {
                currentCount = 1;
            }
            currentNumber = nums[end];
            if (currentCount <= 2) {
                nums[start] = nums[end];
                start++;
                result++;
            }
        }
        return result;
    }
}
