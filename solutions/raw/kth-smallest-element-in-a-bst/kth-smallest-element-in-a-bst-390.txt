class Solution {

    boolean trigger;

    int n;

    int key;

    public int kthSmallest(TreeNode root, int k) {
        key = -1;
        n = 0;
        trigger = false;
        InOrderSearch(root, k);
        return key;
    }

    private void InOrderSearch(TreeNode node, int k) {
        if (key == -1) {
            if (node == null) {
                if (!trigger) {
                    trigger = true;
                    n = 1;
                }
                return;
            }
            InOrderSearch(node.left, k);
            if (trigger) {
                if (n == k)
                    key = node.val;
                n++;
            }
            InOrderSearch(node.right, k);
        }
    }
}
