class Solution {

    public boolean isHappy(int n) {
        int countHandler = 0;
        while (countHandler < 7 && calculate_happy_number(n) != 1) {
            n = calculate_happy_number(n);
            countHandler++;
        }
        return !(countHandler == 7);
    }

    public int calculate_happy_number(int n) {
        if (n % 10 == n) {
            return n * n;
        }
        return (int) Math.pow((n % 10), 2) + calculate_happy_number(n / 10);
    }
}
