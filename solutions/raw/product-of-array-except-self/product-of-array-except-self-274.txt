class Solution {

    public int[] productExceptSelf(int[] nums) {
        int[] ans = new int[nums.length];
        int product = 1;
        for (int temp : nums) {
            product *= temp;
        }
        for (int i = 0; i < nums.length; i++) {
            if (nums[i] == 0) {
                int prod = 1;
                int left = i - 1;
                int right = i + 1;
                while (left >= 0) {
                    prod *= nums[left--];
                }
                while (right < nums.length) {
                    prod *= nums[right++];
                }
                ans[i] = prod;
            } else {
                ans[i] = product / nums[i];
            }
        }
        return ans;
    }
}
