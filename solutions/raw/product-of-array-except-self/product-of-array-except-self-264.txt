class Solution {

    public int[] productExceptSelf(int[] nums) {
        int arrayLen = nums.length;
        int[] outputArray = new int[nums.length];
        outputArray[0] = 1;
        //Calculating the prefix product in the output array
        for (int i = 1; i < arrayLen; i++) {
            outputArray[i] = outputArray[i - 1] * nums[i - 1];
        }
        //instead of using array for suffix Product, we use this variable and update it with every iteration
        int suffixProduct = 1;
        //we start here from right to left, because we have calcukated the prefix values already in array.
        //so we use the suffixProduct, multiply it and updte it for next iteration.
        for (int i = arrayLen - 1; i >= 0; i--) {
            outputArray[i] *= suffixProduct;
            suffixProduct *= nums[i];
        }
        return outputArray;
    }
}
