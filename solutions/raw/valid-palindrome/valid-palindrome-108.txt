class Solution {

    public boolean isPalindrome(String s) {
        int i = 0, j = s.length() - 1;
        while (i < j) {
            char ci = lowercaseAlphaNumeric(s.charAt(i));
            if (ci == 0) {
                i++;
                continue;
            }
            char cj = lowercaseAlphaNumeric(s.charAt(j));
            if (cj == 0) {
                j--;
                continue;
            }
            if (ci != cj)
                return false;
            i++;
            j--;
        }
        return true;
    }

    /**
     * If c is alphanumeric returns lowercase c, otherwise, 0
     */
    private char lowercaseAlphaNumeric(char c) {
        if (// 0-9
        // a-z
        (c >= 48 && c <= 57) || (c >= 97 && c <= 122))
            return c;
        else if (c >= 65 && c <= 90)
            // A-Z
            return (char) (c + 32);
        return 0;
    }
}
