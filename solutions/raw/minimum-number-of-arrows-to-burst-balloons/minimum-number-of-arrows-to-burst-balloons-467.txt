class Solution {

    public int findMinArrowShots(int[][] p) {
        Arrays.sort(p, (a, b) -> {
            return a[1] - b[1];
        });
        Arrays.sort(p, (a, b) -> {
            return a[0] - b[0];
        });
        int a = 1;
        for (int i = 1; i < p.length; i++) {
            if ((p[i][1] >= p[i - 1][1] && p[i][0] <= p[i - 1][1]) || (p[i - 1][1] >= p[i][1] && p[i - 1][0] <= p[i][1])) {
                p[i][0] = Math.max(p[i][0], p[i - 1][0]);
                p[i][1] = Math.min(p[i][1], p[i - 1][1]);
            } else {
                a++;
            }
        }
        return a;
    }
}
