class Solution {

    public int minEatingSpeed(int[] piles, int h) {
        int max = 1;
        for (int pile : piles) {
            max = Math.max(pile, max);
        }
        int left = 1;
        int right = max;
        if (piles.length == h) {
            return max;
        } else {
            while (left < right) {
                int mid = left + (right - left) / 2;
                int hoursneeded = 0;
                for (int pile : piles) {
                    hoursneeded += (pile + mid - 1) / mid;
                }
                if (hoursneeded <= h) {
                    right = mid;
                } else
                    left = mid + 1;
            }
        }
        return left;
    }
}
