class Solution {

    Set<String> v = new HashSet();

    public boolean wordBreak(String s, List<String> dict) {
        if (v.contains(s))
            return false;
        for (String word : dict) {
            if (s.startsWith(word)) {
                int len = word.length();
                if (s.length() == len)
                    return true;
                else {
                    if (wordBreak(s.substring(len), dict))
                        return true;
                }
            }
        }
        v.add(s);
        return false;
    }
}
