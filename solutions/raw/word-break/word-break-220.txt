class Solution {

    List<String> wordDict = null;

    String s = null;

    Map<Integer, Boolean> memo = new HashMap();

    public boolean wordBreak(String s, List<String> wordDict) {
        this.wordDict = wordDict;
        this.s = s;
        return wordBreak(0);
    }

    public boolean wordBreak(int i) {
        boolean res = false;
        if (memo.containsKey(i)) {
            return memo.get(i);
        }
        if (i == s.length()) {
            return true;
        }
        for (String word : wordDict) {
            if (s.indexOf(word, i) == i) {
                res = res || wordBreak(i + word.length());
            }
        }
        memo.put(i, res);
        return res;
    }
}
