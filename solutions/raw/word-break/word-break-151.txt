class Solution {

    Set<String> visited = new HashSet<>();

    public boolean wordBreak(String s, List<String> wordDict) {
        if (s == null || s.equals(""))
            return true;
        boolean rs = false;
        for (String current : wordDict) {
            if (s.startsWith(current)) {
                String newString = s.substring(current.length());
                if (!visited.contains(newString)) {
                    visited.add(newString);
                    rs = rs || wordBreak(newString, wordDict);
                }
            }
            if (rs)
                return true;
        }
        return false;
    }
}
