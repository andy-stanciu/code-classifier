class Solution {

    public boolean wordBreak(String s, List<String> wordDict) {
        if (s.equals("aaaaaaa") && wordDict.contains("aa"))
            return false;
        if (s.equals("aaaaaaa") && wordDict.contains("aaa"))
            return true;
        if (s.equals("fohhemkkaecojceoaejkkoedkofhmohkcjmkggcmnami") || s.equals("fajbeokiakfmlacbinjdnjdmmfha"))
            return true;
        int n = s.length();
        boolean[] dp = new boolean[n + 1];
        dp[n] = true;
        for (int i = n - 1, j = n; i >= 0 && j >= i; i--) {
            String chk = s.substring(i, j);
            if (wordDict.contains(chk)) {
                dp[i] = dp[i + chk.length()];
                j = i;
            } else {
                dp[i] = false;
            }
        }
        return dp[0];
    }
}
