class Solution {

    public boolean wordBreak(String s, List<String> wordDict) {
        return helper(s, wordDict, new HashSet<>());
    }

    public boolean helper(String s, List<String> wordDict, HashSet<String> set) {
        if (s.isEmpty())
            return true;
        if (set.contains(s))
            return false;
        set.add(s);
        for (String item : wordDict) {
            if (item.length() > s.length())
                continue;
            if (item.equals(s.substring(0, item.length())) && helper(s.substring(item.length(), s.length()), wordDict, set))
                return true;
        }
        return false;
    }
}
