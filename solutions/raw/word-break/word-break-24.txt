public class Solution {

    public boolean memoRecursiveSolution(String s, int i, List<String> dic, int[] memo) {
        if (i == s.length())
            return true;
        if (memo[i] != -1)
            return memo[i] == 1;
        boolean ans = false;
        for (String word : dic) {
            if (s.startsWith(word, i))
                ans = ans || memoRecursiveSolution(s, i + word.length(), dic, memo);
        }
        memo[i] = ans ? 1 : 0;
        return ans;
    }

    public boolean wordBreak(String s, List<String> dic) {
        int[] memo = new int[s.length() + 1];
        Arrays.fill(memo, -1);
        int indexOfs = 0;
        return memoRecursiveSolution(s, indexOfs, dic, memo);
    }
}
