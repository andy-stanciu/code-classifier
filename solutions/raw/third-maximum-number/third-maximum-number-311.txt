class Solution {

    public int thirdMax(int[] nums) {
        int d = 0;
        HashSet<Integer> third = new HashSet<>();
        ArrayList<Integer> three = new ArrayList<>();
        for (int num : nums) {
            if (third.add(num)) {
                three.add(num);
            }
        }
        if (three.size() >= 3) {
            Collections.sort(three);
            d = three.get(three.size() - 3);
        } else {
            d = Collections.max(three);
        }
        return d;
    }
}
