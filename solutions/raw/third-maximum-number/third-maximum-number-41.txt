class Solution {

    public int thirdMax(int[] nums) {
        HashSet<Integer> h = new HashSet<>();
        for (int num : nums) h.add(num);
        ArrayList<Integer> a = new ArrayList<>(h);
        Collections.sort(a);
        int n = a.size();
        if (n > 2)
            return a.get(n - 3);
        else
            return Collections.max(a);
    }
}
