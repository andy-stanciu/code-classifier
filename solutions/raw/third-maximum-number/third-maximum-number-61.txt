class Solution {

    public int thirdMax(int[] nums) {
        if (nums.length < 2)
            return nums[0];
        // where first is first distinct maximum, second is second distinct maximum and third is third distinct maximum
        int first = 0, second = -1, third = -1;
        for (int i = 1; i < nums.length; i++) {
            if (nums[i] > nums[first]) {
                third = second;
                second = first;
                first = i;
            } else if (nums[i] < nums[first]) {
                if (second == -1 || nums[i] > nums[second]) {
                    third = second;
                    second = i;
                } else if (nums[second] > nums[i]) {
                    if (third == -1 || nums[i] > nums[third])
                        third = i;
                }
            }
        }
        return third != -1 ? nums[third] : nums[first];
    }
}
