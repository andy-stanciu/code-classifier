class Solution {

    public int thirdMax(int[] nums) {
        // Using a set to remove duplicates
        Set<Integer> set = new HashSet<>();
        for (int num : nums) {
            set.add(num);
        }
        // Convert set to array
        int[] uniqueNums = new int[set.size()];
        int i = 0;
        for (int num : set) {
            uniqueNums[i++] = num;
        }
        // If less than 3 unique numbers, return the maximum
        if (uniqueNums.length < 3) {
            Arrays.sort(uniqueNums);
            return uniqueNums[uniqueNums.length - 1];
        }
        // Finding the third maximum number
        Arrays.sort(uniqueNums);
        return uniqueNums[uniqueNums.length - 3];
    }
}
