class Solution {

    public int thirdMax(int[] nums) {
        int k = 3;
        TreeSet<Integer> ns = new TreeSet<>();
        for (int num : nums) {
            ns.add(num);
        }
        if (ns.size() < k)
            return ns.last();
        while (--k > 0) {
            ns.pollLast();
        }
        return ns.last();
    }
}
