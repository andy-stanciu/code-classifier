class Solution {

    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> re = new ArrayList<>();
        permutations(re, nums, new ArrayList<>(), 0);
        return re;
    }

    public static void permutations(List<List<Integer>> re, int[] nums, List<Integer> temp, int s) {
        if (nums.length == temp.size()) {
            re.add(new ArrayList<>(temp));
            return;
        }
        for (int i = s; i < nums.length; i++) {
            int size = temp.size();
            for (int j = 0; j <= size; j++) {
                List<Integer> n = new ArrayList<>(temp);
                n.add(j, nums[i]);
                permutations(re, nums, n, i + 1);
            }
        }
    }
}
