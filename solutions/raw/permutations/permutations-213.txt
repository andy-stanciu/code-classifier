class Solution {

    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> out = new ArrayList<>();
        Stack<List<Integer>> stack = new Stack<>();
        // Start with an empty list in the stack
        stack.push(new ArrayList<>());
        while (!stack.isEmpty()) {
            List<Integer> curr = stack.pop();
            // If current list has the same length as nums, add it to the output
            if (curr.size() == nums.length) {
                out.add(new ArrayList<>(curr));
                continue;
            }
            // Iterate through the nums array
            for (int num : nums) {
                // If num is not in the current list, add it to the stack
                if (!curr.contains(num)) {
                    List<Integer> newCurr = new ArrayList<>(curr);
                    newCurr.add(num);
                    stack.push(newCurr);
                }
            }
        }
        return out;
    }
}
